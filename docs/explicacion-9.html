<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10.1 Explicación | Notas de clase del curso de introducción a Data Science</title>
  <meta name="description" content="desarrollado para el Min. de Transporte (Argentina)" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="10.1 Explicación | Notas de clase del curso de introducción a Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10.1 Explicación | Notas de clase del curso de introducción a Data Science" />
  
  <meta name="twitter:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

<meta name="author" content="Diego Kozlowski y Natsumi Shokida" />


<meta name="date" content="2019-10-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mineria-de-textos.html"/>
<link rel="next" href="mapas.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.1/DiagrammeR.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#presentacion"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos-del-curso"><i class="fa fa-check"></i>Objetivos del curso</a></li>
<li><a href="index.html#webpage"><span>Webpage</span></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario:</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliografia-de-consulta"><i class="fa fa-check"></i>Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html"><i class="fa fa-check"></i><b>1</b> Introducción a R</a><ul>
<li class="chapter" data-level="1.1" data-path="explicacion.html"><a href="explicacion.html"><i class="fa fa-check"></i><b>1.1</b> Explicación</a><ul>
<li class="chapter" data-level="1.1.1" data-path="explicacion.html"><a href="explicacion.html#que-es-r"><i class="fa fa-check"></i><b>1.1.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="explicacion.html"><a href="explicacion.html#logica-sintactica."><i class="fa fa-check"></i><b>1.1.2</b> Lógica sintáctica.</a></li>
<li class="chapter" data-level="1.1.3" data-path="explicacion.html"><a href="explicacion.html#r-base"><i class="fa fa-check"></i><b>1.1.3</b> R base</a></li>
<li class="chapter" data-level="1.1.4" data-path="explicacion.html"><a href="explicacion.html#objetos"><i class="fa fa-check"></i><b>1.1.4</b> Objetos:</a></li>
<li class="chapter" data-level="1.1.5" data-path="explicacion.html"><a href="explicacion.html#data-frames"><i class="fa fa-check"></i><b>1.1.5</b> Data Frames</a></li>
<li class="chapter" data-level="1.1.6" data-path="explicacion.html"><a href="explicacion.html#listas"><i class="fa fa-check"></i><b>1.1.6</b> Listas</a></li>
<li class="chapter" data-level="1.1.7" data-path="explicacion.html"><a href="explicacion.html#ambientes-de-trabajo"><i class="fa fa-check"></i><b>1.1.7</b> Ambientes de trabajo</a></li>
<li class="chapter" data-level="1.1.8" data-path="explicacion.html"><a href="explicacion.html#tipos-de-archivos-de-r"><i class="fa fa-check"></i><b>1.1.8</b> Tipos de archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="practica-guiada.html"><a href="practica-guiada.html"><i class="fa fa-check"></i><b>1.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="1.2.1" data-path="practica-guiada.html"><a href="practica-guiada.html#instalacion-de-paquetes-complementarios-al-r-base"><i class="fa fa-check"></i><b>1.2.1</b> Instalación de paquetes complementarios al R Base</a></li>
<li class="chapter" data-level="1.2.2" data-path="practica-guiada.html"><a href="practica-guiada.html#lectura-y-escritura-de-archivos"><i class="fa fa-check"></i><b>1.2.2</b> Lectura y escritura de archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="explicacion-1.html"><a href="explicacion-1.html"><i class="fa fa-check"></i><b>2.1</b> Explicación</a><ul>
<li class="chapter" data-level="2.1.1" data-path="explicacion-1.html"><a href="explicacion-1.html#dplyr"><i class="fa fa-check"></i><b>2.1.1</b> Dplyr</a></li>
<li class="chapter" data-level="2.1.2" data-path="explicacion-1.html"><a href="explicacion-1.html#joins"><i class="fa fa-check"></i><b>2.1.2</b> Joins</a></li>
<li class="chapter" data-level="2.1.3" data-path="explicacion-1.html"><a href="explicacion-1.html#tidyr"><i class="fa fa-check"></i><b>2.1.3</b> Tidyr</a></li>
<li class="chapter" data-level="2.1.4" data-path="explicacion-1.html"><a href="explicacion-1.html#lubridate"><i class="fa fa-check"></i><b>2.1.4</b> Lubridate</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html"><i class="fa fa-check"></i><b>2.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="2.2.1" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-1"><i class="fa fa-check"></i><b>2.2.1</b> Ejemplo 1</a></li>
<li class="chapter" data-level="2.2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-2"><i class="fa fa-check"></i><b>2.2.2</b> Ejemplo 2</a></li>
<li class="chapter" data-level="2.2.3" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-3"><i class="fa fa-check"></i><b>2.2.3</b> Ejemplo 3</a></li>
<li class="chapter" data-level="2.2.4" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-4"><i class="fa fa-check"></i><b>2.2.4</b> Ejemplo 4</a></li>
<li class="chapter" data-level="2.2.5" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-5"><i class="fa fa-check"></i><b>2.2.5</b> Ejemplo 5</a></li>
<li class="chapter" data-level="2.2.6" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-6"><i class="fa fa-check"></i><b>2.2.6</b> Ejemplo 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programacion-funcional.html"><a href="programacion-funcional.html"><i class="fa fa-check"></i><b>3</b> Programacion Funcional</a><ul>
<li class="chapter" data-level="3.1" data-path="explicacion-2.html"><a href="explicacion-2.html"><i class="fa fa-check"></i><b>3.1</b> Explicación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="explicacion-2.html"><a href="explicacion-2.html#loops"><i class="fa fa-check"></i><b>3.1.1</b> Loops</a></li>
<li class="chapter" data-level="3.1.2" data-path="explicacion-2.html"><a href="explicacion-2.html#estructuras-condicionales"><i class="fa fa-check"></i><b>3.1.2</b> Estructuras Condicionales</a></li>
<li class="chapter" data-level="3.1.3" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-1"><i class="fa fa-check"></i><b>3.1.3</b> Funciones</a></li>
<li class="chapter" data-level="3.1.4" data-path="explicacion-2.html"><a href="explicacion-2.html#purrr"><i class="fa fa-check"></i><b>3.1.4</b> PURRR</a></li>
<li class="chapter" data-level="3.1.5" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-implicitas"><i class="fa fa-check"></i><b>3.1.5</b> Funciones implícitas</a></li>
<li class="chapter" data-level="3.1.6" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-lambda"><i class="fa fa-check"></i><b>3.1.6</b> Funciones lambda</a></li>
<li class="chapter" data-level="3.1.7" data-path="explicacion-2.html"><a href="explicacion-2.html#walk"><i class="fa fa-check"></i><b>3.1.7</b> Walk</a></li>
<li class="chapter" data-level="3.1.8" data-path="explicacion-2.html"><a href="explicacion-2.html#cuando-usar-estas-herramientas"><i class="fa fa-check"></i><b>3.1.8</b> Cuando usar estas herramientas?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html"><i class="fa fa-check"></i><b>3.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="3.2.1" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-1-iterando-en-la-eph"><i class="fa fa-check"></i><b>3.2.1</b> Ejemplo 1: Iterando en la EPH</a></li>
<li class="chapter" data-level="3.2.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-2.-regresion-lineal"><i class="fa fa-check"></i><b>3.2.2</b> Ejemplo 2. Regresión lineal</a></li>
<li class="chapter" data-level="3.2.3" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-3-graficos-en-serie"><i class="fa fa-check"></i><b>3.2.3</b> Ejemplo 3: Gráficos en serie</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizacion-de-la-informacion.html"><a href="visualizacion-de-la-informacion.html"><i class="fa fa-check"></i><b>4</b> Visualización de la información</a><ul>
<li class="chapter" data-level="4.1" data-path="explicacion-3.html"><a href="explicacion-3.html"><i class="fa fa-check"></i><b>4.1</b> Explicación</a><ul>
<li class="chapter" data-level="4.1.1" data-path="explicacion-3.html"><a href="explicacion-3.html#graficos-basicos-en-r"><i class="fa fa-check"></i><b>4.1.1</b> Gráficos Básicos en R</a></li>
<li class="chapter" data-level="4.1.2" data-path="explicacion-3.html"><a href="explicacion-3.html#ggplot2"><i class="fa fa-check"></i><b>4.1.2</b> <span>Ggplot2</span></a></li>
<li class="chapter" data-level="4.1.3" data-path="explicacion-3.html"><a href="explicacion-3.html#ejemplo-con-datos-reales"><i class="fa fa-check"></i><b>4.1.3</b> Ejemplo con datos reales</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html"><i class="fa fa-check"></i><b>4.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="4.2.1" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html#caso-practico-graficos-de-ingresos---eph"><i class="fa fa-check"></i><b>4.2.1</b> Caso práctico: Gráficos de ingresos - EPH</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="documentacion-en-r.html"><a href="documentacion-en-r.html"><i class="fa fa-check"></i><b>5</b> Documentación en R</a><ul>
<li class="chapter" data-level="5.1" data-path="explicacion-4.html"><a href="explicacion-4.html"><i class="fa fa-check"></i><b>5.1</b> Explicación</a><ul>
<li class="chapter" data-level="5.1.1" data-path="explicacion-4.html"><a href="explicacion-4.html#r-markdown-introduccion"><i class="fa fa-check"></i><b>5.1.1</b> R Markdown: Introducción</a></li>
<li class="chapter" data-level="5.1.2" data-path="explicacion-4.html"><a href="explicacion-4.html#requisitos"><i class="fa fa-check"></i><b>5.1.2</b> Requisitos</a></li>
<li class="chapter" data-level="5.1.3" data-path="explicacion-4.html"><a href="explicacion-4.html#markdown-basico"><i class="fa fa-check"></i><b>5.1.3</b> Markdown básico</a></li>
<li class="chapter" data-level="5.1.4" data-path="explicacion-4.html"><a href="explicacion-4.html#formateo-de-texto"><i class="fa fa-check"></i><b>5.1.4</b> Formateo de texto</a></li>
<li class="chapter" data-level="5.1.5" data-path="explicacion-4.html"><a href="explicacion-4.html#bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.5</b> Bloques de código</a></li>
<li class="chapter" data-level="5.1.6" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-en-los-bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.6</b> Opciones en los bloques de código</a></li>
<li class="chapter" data-level="5.1.7" data-path="explicacion-4.html"><a href="explicacion-4.html#tablas"><i class="fa fa-check"></i><b>5.1.7</b> Tablas</a></li>
<li class="chapter" data-level="5.1.8" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-globales"><i class="fa fa-check"></i><b>5.1.8</b> Opciones globales</a></li>
<li class="chapter" data-level="5.1.9" data-path="explicacion-4.html"><a href="explicacion-4.html#codigo-en-la-linea"><i class="fa fa-check"></i><b>5.1.9</b> Código en la línea</a></li>
<li class="chapter" data-level="5.1.10" data-path="explicacion-4.html"><a href="explicacion-4.html#formatos"><i class="fa fa-check"></i><b>5.1.10</b> Formatos</a></li>
<li class="chapter" data-level="5.1.11" data-path="explicacion-4.html"><a href="explicacion-4.html#otros-formatos"><i class="fa fa-check"></i><b>5.1.11</b> Otros formatos</a></li>
<li class="chapter" data-level="5.1.12" data-path="explicacion-4.html"><a href="explicacion-4.html#notebooks"><i class="fa fa-check"></i><b>5.1.12</b> Notebooks</a></li>
<li class="chapter" data-level="5.1.13" data-path="explicacion-4.html"><a href="explicacion-4.html#publicar"><i class="fa fa-check"></i><b>5.1.13</b> Publicar</a></li>
<li class="chapter" data-level="5.1.14" data-path="explicacion-4.html"><a href="explicacion-4.html#flexdashboard"><i class="fa fa-check"></i><b>5.1.14</b> FlexDashboard</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html"><i class="fa fa-check"></i><b>5.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="5.2.1" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#introduccion-1"><i class="fa fa-check"></i><b>5.2.1</b> Introducción</a></li>
<li class="chapter" data-level="5.2.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#explorando-los-datos"><i class="fa fa-check"></i><b>5.2.2</b> Explorando los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>6</b> Shiny apps</a><ul>
<li class="chapter" data-level="6.1" data-path="explicacion-5.html"><a href="explicacion-5.html"><i class="fa fa-check"></i><b>6.1</b> Explicación</a><ul>
<li class="chapter" data-level="6.1.1" data-path="explicacion-5.html"><a href="explicacion-5.html#que-es-un-shiny-app"><i class="fa fa-check"></i><b>6.1.1</b> ¿Qué es un shiny app?</a></li>
<li class="chapter" data-level="6.1.2" data-path="explicacion-5.html"><a href="explicacion-5.html#galeria-de-ejemplos"><i class="fa fa-check"></i><b>6.1.2</b> Galería de ejemplos</a></li>
<li class="chapter" data-level="6.1.3" data-path="explicacion-5.html"><a href="explicacion-5.html#componentes-fundamentales-de-un-shiny-app"><i class="fa fa-check"></i><b>6.1.3</b> Componentes fundamentales de un Shiny app</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html"><i class="fa fa-check"></i><b>6.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="6.2.1" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-2.-gapminder"><i class="fa fa-check"></i><b>6.2.1</b> Ejemplo 2. Gapminder</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="probabilidad-y-estadistica.html"><a href="probabilidad-y-estadistica.html"><i class="fa fa-check"></i><b>7</b> Probabilidad y Estadística</a><ul>
<li class="chapter" data-level="7.1" data-path="explicacion-6.html"><a href="explicacion-6.html"><i class="fa fa-check"></i><b>7.1</b> Explicación</a><ul>
<li class="chapter" data-level="7.1.1" data-path="explicacion-6.html"><a href="explicacion-6.html#probabilidad"><i class="fa fa-check"></i><b>7.1.1</b> Probabilidad</a></li>
<li class="chapter" data-level="7.1.2" data-path="explicacion-6.html"><a href="explicacion-6.html#estadistica"><i class="fa fa-check"></i><b>7.1.2</b> Estadística</a></li>
<li class="chapter" data-level="7.1.3" data-path="explicacion-6.html"><a href="explicacion-6.html#algunos-estimadores-importantes"><i class="fa fa-check"></i><b>7.1.3</b> Algunos estimadores importantes</a></li>
<li class="chapter" data-level="7.1.4" data-path="explicacion-6.html"><a href="explicacion-6.html#graficos-estadisticos"><i class="fa fa-check"></i><b>7.1.4</b> Gráficos estadísticos</a></li>
<li class="chapter" data-level="7.1.5" data-path="explicacion-6.html"><a href="explicacion-6.html#bibliografia-de-consulta-1"><i class="fa fa-check"></i><b>7.1.5</b> Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html"><i class="fa fa-check"></i><b>7.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="7.2.1" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#generacion-de-datos-aleatorios"><i class="fa fa-check"></i><b>7.2.1</b> Generación de datos aleatorios</a></li>
<li class="chapter" data-level="7.2.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#tests"><i class="fa fa-check"></i><b>7.2.2</b> Tests</a></li>
<li class="chapter" data-level="7.2.3" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#descripcion-estadistica-de-los-datos"><i class="fa fa-check"></i><b>7.2.3</b> Descripción estadística de los datos</a></li>
<li class="chapter" data-level="7.2.4" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#graficos-estadisticos-1"><i class="fa fa-check"></i><b>7.2.4</b> Gráficos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modelo-lineal.html"><a href="modelo-lineal.html"><i class="fa fa-check"></i><b>8</b> Modelo Lineal</a><ul>
<li class="chapter" data-level="8.1" data-path="explicacion-7.html"><a href="explicacion-7.html"><i class="fa fa-check"></i><b>8.1</b> Explicación</a><ul>
<li class="chapter" data-level="8.1.1" data-path="explicacion-7.html"><a href="explicacion-7.html#covarianza-y-correlacion."><i class="fa fa-check"></i><b>8.1.1</b> Covarianza y Correlación.</a></li>
<li class="chapter" data-level="8.1.2" data-path="explicacion-7.html"><a href="explicacion-7.html#modelo-lineal-1"><i class="fa fa-check"></i><b>8.1.2</b> Modelo Lineal</a></li>
<li class="chapter" data-level="8.1.3" data-path="explicacion-7.html"><a href="explicacion-7.html#regresion-lineal-multiple"><i class="fa fa-check"></i><b>8.1.3</b> Regresión lineal múltiple</a></li>
<li class="chapter" data-level="8.1.4" data-path="explicacion-7.html"><a href="explicacion-7.html#para-profundizar"><i class="fa fa-check"></i><b>8.1.4</b> Para profundizar</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html"><i class="fa fa-check"></i><b>8.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="8.2.1" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html#datos-de-properati"><i class="fa fa-check"></i><b>8.2.1</b> Datos de Properati</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="analisis-de-encuestas.html"><a href="analisis-de-encuestas.html"><i class="fa fa-check"></i><b>9</b> Análisis de encuestas</a><ul>
<li class="chapter" data-level="9.1" data-path="explicacion-8.html"><a href="explicacion-8.html"><i class="fa fa-check"></i><b>9.1</b> Explicación</a><ul>
<li class="chapter" data-level="9.1.1" data-path="explicacion-8.html"><a href="explicacion-8.html#poblacion-y-muestra-1"><i class="fa fa-check"></i><b>9.1.1</b> Población y muestra</a></li>
<li class="chapter" data-level="9.1.2" data-path="explicacion-8.html"><a href="explicacion-8.html#tipos-de-muestra"><i class="fa fa-check"></i><b>9.1.2</b> Tipos de muestra</a></li>
<li class="chapter" data-level="9.1.3" data-path="explicacion-8.html"><a href="explicacion-8.html#el-cuestionario"><i class="fa fa-check"></i><b>9.1.3</b> El cuestionario</a></li>
<li class="chapter" data-level="9.1.4" data-path="explicacion-8.html"><a href="explicacion-8.html#sesgos"><i class="fa fa-check"></i><b>9.1.4</b> Sesgos</a></li>
<li class="chapter" data-level="9.1.5" data-path="explicacion-8.html"><a href="explicacion-8.html#no-respuesta"><i class="fa fa-check"></i><b>9.1.5</b> No respuesta</a></li>
<li class="chapter" data-level="9.1.6" data-path="explicacion-8.html"><a href="explicacion-8.html#ponderadores-expansores"><i class="fa fa-check"></i><b>9.1.6</b> Ponderadores / Expansores</a></li>
<li class="chapter" data-level="9.1.7" data-path="explicacion-8.html"><a href="explicacion-8.html#ejemplos"><i class="fa fa-check"></i><b>9.1.7</b> Ejemplos</a></li>
<li class="chapter" data-level="9.1.8" data-path="explicacion-8.html"><a href="explicacion-8.html#encuesta-uso-del-tiempo-2016-ciudad-de-buenos-aires"><i class="fa fa-check"></i><b>9.1.8</b> Encuesta Uso del Tiempo 2016 Ciudad de Buenos Aires</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html"><i class="fa fa-check"></i><b>9.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="9.2.1" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html#encuesta-permanente-de-hogares-1"><i class="fa fa-check"></i><b>9.2.1</b> Encuesta Permanente de Hogares</a></li>
<li class="chapter" data-level="9.2.2" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html#ejemplo-de-utilizacion-de-la-encuesta"><i class="fa fa-check"></i><b>9.2.2</b> Ejemplo de utilización de la encuesta</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mineria-de-textos.html"><a href="mineria-de-textos.html"><i class="fa fa-check"></i><b>10</b> Minería de Textos</a><ul>
<li class="chapter" data-level="10.1" data-path="explicacion-9.html"><a href="explicacion-9.html"><i class="fa fa-check"></i><b>10.1</b> Explicación</a><ul>
<li class="chapter" data-level="10.1.1" data-path="explicacion-9.html"><a href="explicacion-9.html#introduccion-2"><i class="fa fa-check"></i><b>10.1.1</b> Introducción</a></li>
<li class="chapter" data-level="10.1.2" data-path="explicacion-9.html"><a href="explicacion-9.html#bag-of-words"><i class="fa fa-check"></i><b>10.1.2</b> Bag of Words</a></li>
<li class="chapter" data-level="10.1.3" data-path="explicacion-9.html"><a href="explicacion-9.html#normalizacion"><i class="fa fa-check"></i><b>10.1.3</b> Normalización</a></li>
<li class="chapter" data-level="10.1.4" data-path="explicacion-9.html"><a href="explicacion-9.html#expresiones-regulares."><i class="fa fa-check"></i><b>10.1.4</b> <span>Expresiones regulares.</span></a></li>
<li class="chapter" data-level="10.1.5" data-path="explicacion-9.html"><a href="explicacion-9.html#distancia-de-palabras"><i class="fa fa-check"></i><b>10.1.5</b> Distancia de palabras</a></li>
<li class="chapter" data-level="10.1.6" data-path="explicacion-9.html"><a href="explicacion-9.html#distancia-de-documentos"><i class="fa fa-check"></i><b>10.1.6</b> Distancia de Documentos</a></li>
<li class="chapter" data-level="10.1.7" data-path="explicacion-9.html"><a href="explicacion-9.html#topic-modelling"><i class="fa fa-check"></i><b>10.1.7</b> Topic Modelling</a></li>
<li class="chapter" data-level="10.1.8" data-path="explicacion-9.html"><a href="explicacion-9.html#descargas-de-tweets-con-rtweet"><i class="fa fa-check"></i><b>10.1.8</b> Descargas de tweets con <code>rtweet</code></a></li>
<li class="chapter" data-level="10.1.9" data-path="explicacion-9.html"><a href="explicacion-9.html#armado-del-corpus-con-tm"><i class="fa fa-check"></i><b>10.1.9</b> Armado del corpus con <code>tm</code></a></li>
<li class="chapter" data-level="10.1.10" data-path="explicacion-9.html"><a href="explicacion-9.html#limpieza-del-corpus"><i class="fa fa-check"></i><b>10.1.10</b> Limpieza del Corpus</a></li>
<li class="chapter" data-level="10.1.11" data-path="explicacion-9.html"><a href="explicacion-9.html#topic-modeling"><i class="fa fa-check"></i><b>10.1.11</b> Topic Modeling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>11</b> Mapas</a><ul>
<li class="chapter" data-level="11.1" data-path="explicacion-10.html"><a href="explicacion-10.html"><i class="fa fa-check"></i><b>11.1</b> Explicación</a><ul>
<li class="chapter" data-level="11.1.1" data-path="explicacion-10.html"><a href="explicacion-10.html#datos-georreferenciados"><i class="fa fa-check"></i><b>11.1.1</b> Datos georreferenciados</a></li>
<li class="chapter" data-level="11.1.2" data-path="explicacion-10.html"><a href="explicacion-10.html#proyecciones-y-distorsiones"><i class="fa fa-check"></i><b>11.1.2</b> Proyecciones y distorsiones</a></li>
<li class="chapter" data-level="11.1.3" data-path="explicacion-10.html"><a href="explicacion-10.html#tipos-de-datos-espaciales"><i class="fa fa-check"></i><b>11.1.3</b> Tipos de datos espaciales</a></li>
<li class="chapter" data-level="11.1.4" data-path="explicacion-10.html"><a href="explicacion-10.html#paquete-sf"><i class="fa fa-check"></i><b>11.1.4</b> Paquete sf</a></li>
<li class="chapter" data-level="11.1.5" data-path="explicacion-10.html"><a href="explicacion-10.html#tipos-de-archivo"><i class="fa fa-check"></i><b>11.1.5</b> Tipos de archivo</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html"><i class="fa fa-check"></i><b>11.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="11.2.1" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html#representacion-de-la-informacion-en-mapas"><i class="fa fa-check"></i><b>11.2.1</b> Representación de la información en mapas</a></li>
<li class="chapter" data-level="11.2.2" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html#mapeo-de-palos-borrachos-rosados-en-buenos-aires"><i class="fa fa-check"></i><b>11.2.2</b> Mapeo de Palos borrachos rosados en Buenos Aires</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mapa-de-data-science.html"><a href="mapa-de-data-science.html"><i class="fa fa-check"></i><b>12</b> Mapa de Data Science</a><ul>
<li class="chapter" data-level="12.1" data-path="tecnicas.html"><a href="tecnicas.html"><i class="fa fa-check"></i><b>12.1</b> Técnicas</a><ul>
<li class="chapter" data-level="12.1.1" data-path="tecnicas.html"><a href="tecnicas.html#segun-tipo-de-aprendizaje"><i class="fa fa-check"></i><b>12.1.1</b> Según tipo de aprendizaje:</a></li>
<li class="chapter" data-level="12.1.2" data-path="tecnicas.html"><a href="tecnicas.html#segun-el-tipo-de-datos"><i class="fa fa-check"></i><b>12.1.2</b> Según el tipo de datos:</a></li>
<li class="chapter" data-level="12.1.3" data-path="tecnicas.html"><a href="tecnicas.html#desde-el-punto-de-vista-del-remuestreo"><i class="fa fa-check"></i><b>12.1.3</b> Desde el punto de vista del remuestreo:</a></li>
<li class="chapter" data-level="12.1.4" data-path="tecnicas.html"><a href="tecnicas.html#desde-el-punto-de-vista-de-la-optimizacion"><i class="fa fa-check"></i><b>12.1.4</b> Desde el punto de vista de la optimización:</a></li>
<li class="chapter" data-level="12.1.5" data-path="tecnicas.html"><a href="tecnicas.html#flujo-de-trabajo"><i class="fa fa-check"></i><b>12.1.5</b> Flujo de trabajo</a></li>
<li class="chapter" data-level="12.1.6" data-path="tecnicas.html"><a href="tecnicas.html#meta-flujo-de-trabajo"><i class="fa fa-check"></i><b>12.1.6</b> Meta flujo de trabajo</a></li>
<li class="chapter" data-level="12.1.7" data-path="tecnicas.html"><a href="tecnicas.html#otros-temas"><i class="fa fa-check"></i><b>12.1.7</b> Otros temas</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="implementaciones.html"><a href="implementaciones.html"><i class="fa fa-check"></i><b>12.2</b> Implementaciones:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/DiegoKoz/intro_ds" target="blank">Repositorio en github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notas de clase del curso de introducción a Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="explicacion-9" class="section level2">
<h2><span class="header-section-number">10.1</span> Explicación</h2>
<p><img src="img/wordcloud.png" /></p>
<div id="introduccion-2" class="section level3">
<h3><span class="header-section-number">10.1.1</span> Introducción</h3>
<ul>
<li><p>Junto con las imágenes y los audios, los textos son una fuente de datos no estructurados que se multiplicó en los últimos años.</p></li>
<li><p>Para poder hacer uso de la información que contienen es necesario procesar los documentos originales a un formato lo suficientemente estandarizado como para que pueda alimentar algún tipo de modelo</p></li>
<li><p>En la clase de hoy veremos un repaso de algunas de las técnicas más usuales para normalizar la información de documentos.</p></li>
</ul>
</div>
<div id="bag-of-words" class="section level3">
<h3><span class="header-section-number">10.1.2</span> Bag of Words</h3>
<ul>
<li><p>Los documentos se pueden caracterizar por las palabras que contienen. Esto esconde el supuesto fuerte de independencia. No estamos considerando el orden</p></li>
<li><p>Para este tipo de técnicas, una buena representación de la información es una bolsa de palabras. Un formato que indica la cantidad de veces que aparece una palabra en un documento.</p></li>
<li><p>También se conocen como Matrices Documento-Término o Término-Documento, según la orientación</p></li>
</ul>
<p><strong>Ejemplo</strong>: opiniones de trip advisor:</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb421-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb421-2" data-line-number="2"><span class="kw">library</span>(tm)</a>
<a class="sourceLine" id="cb421-3" data-line-number="3">doc1=<span class="st">&#39;Lugar espectacular e inolvidable&#39;</span></a>
<a class="sourceLine" id="cb421-4" data-line-number="4">doc2=<span class="st">&#39;Precioso lugar, la comida era espectacular, de 10, precioso!&#39;</span></a>
<a class="sourceLine" id="cb421-5" data-line-number="5"></a>
<a class="sourceLine" id="cb421-6" data-line-number="6">texto &lt;-<span class="st"> </span><span class="kw">c</span>(doc1,doc2)</a>
<a class="sourceLine" id="cb421-7" data-line-number="7"></a>
<a class="sourceLine" id="cb421-8" data-line-number="8">myCorpus =<span class="st"> </span><span class="kw">VCorpus</span>(<span class="kw">VectorSource</span>(texto))</a>
<a class="sourceLine" id="cb421-9" data-line-number="9">myDTM =<span class="st"> </span><span class="kw">DocumentTermMatrix</span>(myCorpus, <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">minWordLength =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb421-10" data-line-number="10">m =<span class="st"> </span><span class="kw">as.matrix</span>(myDTM)</a>
<a class="sourceLine" id="cb421-11" data-line-number="11">m</a></code></pre></div>
<pre><code>##     Terms
## Docs 10, comida era espectacular espectacular, inolvidable lugar lugar,
##    1   0      0   0            1             0           1     1      0
##    2   1      1   1            0             1           0     0      1
##     Terms
## Docs precioso precioso!
##    1        0         0
##    2        1         1</code></pre>
<p><img src="img/DTM_bad.png" /></p>
<ul>
<li><p>Nosotros sabemos que el significado de “lugar” y “lugar,” es el mismo</p></li>
<li><p>Al no estar normalizada la información, la BoW genera matrices muy grandes y esparsas, que son poco útiles para trabajar</p></li>
</ul>
</div>
<div id="normalizacion" class="section level3">
<h3><span class="header-section-number">10.1.3</span> Normalización</h3>
<p>Para construir el Bag of Words se debe considerar los siguientes procesos:</p>
<ul>
<li><p><strong>Tokenization</strong>: Es el proceso de partir un string de texto en palabras y signos de puntuación.</p></li>
<li><p><strong>Eliminar puntuación</strong>.</p></li>
<li><p><strong>Stop Words</strong>: remover las palabras más comunes del idioma (“el”, “la”, “los”, “de”) ya que aparecen en todos los documentos y no aportan información valiosa para distinguirlos.</p></li>
<li><p><strong>Lemmatization</strong>: Es la representación de todas las formas flexionadas (plural, femenino, conjugado, etc.). Para esto, es necesario contar con una base de datos léxica. Para esto podemos usar <a href="https://github.com/unDocUMeantIt/koRpus">koRpus</a> que incluye el lexicón TreeTagger.</p></li>
<li><p><strong>Stemming</strong>: Es similar a la lematización, pero no se basa en las estructuras lexicales, sino que realiza una aproximación, quedándose con las primeras letras de la palabra.</p></li>
<li><strong>N-gramas</strong>: A veces los conceptos que permiten distinguir entre documentos se componen de más de una palabra, por ejemplo:
<ul>
<li>“a duras penas” (trigrama),</li>
<li>“Buenos Aires” (bigrama)</li>
<li>Las expresiones idiomáticas o los nombres propios cambian radicalmente de sentido si se separan sus componentes.</li>
<li>Imaginense si quisiéramos clasificar la posición política de izquierda a derecha de los “Nacional Socialistas”!</li>
</ul></li>
</ul>
<p><strong>Ejemplo</strong>: Limpiando el texto:</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb423-1" data-line-number="1">doc1=<span class="st">&#39;Lugar espectacular e inolvidable&#39;</span></a>
<a class="sourceLine" id="cb423-2" data-line-number="2">doc2=<span class="st">&#39;Precioso lugar, la comida era espectacular, de 10, precioso!&#39;</span></a>
<a class="sourceLine" id="cb423-3" data-line-number="3"></a>
<a class="sourceLine" id="cb423-4" data-line-number="4">texto &lt;-<span class="st"> </span><span class="kw">c</span>(doc1,doc2)</a>
<a class="sourceLine" id="cb423-5" data-line-number="5"></a>
<a class="sourceLine" id="cb423-6" data-line-number="6">myCorpus =<span class="st"> </span><span class="kw">VCorpus</span>(<span class="kw">VectorSource</span>(texto))</a>
<a class="sourceLine" id="cb423-7" data-line-number="7">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, <span class="kw">content_transformer</span>(tolower))</a>
<a class="sourceLine" id="cb423-8" data-line-number="8">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removePunctuation)</a>
<a class="sourceLine" id="cb423-9" data-line-number="9">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removeNumbers)</a>
<a class="sourceLine" id="cb423-10" data-line-number="10">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removeWords, <span class="kw">stopwords</span>(<span class="dt">kind =</span> <span class="st">&quot;es&quot;</span>))</a>
<a class="sourceLine" id="cb423-11" data-line-number="11">myDTM =<span class="st"> </span><span class="kw">DocumentTermMatrix</span>(myCorpus, <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">minWordLength =</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb423-12" data-line-number="12">m =<span class="st"> </span><span class="kw">as.matrix</span>(myDTM)</a>
<a class="sourceLine" id="cb423-13" data-line-number="13">m</a></code></pre></div>
<pre><code>##     Terms
## Docs comida espectacular inolvidable lugar precioso
##    1      0            1           1     1        0
##    2      1            1           0     1        2</code></pre>
</div>
<div id="expresiones-regulares." class="section level3">
<h3><span class="header-section-number">10.1.4</span> <a href="https://stringr.tidyverse.org/articles/regular-expressions.html">Expresiones regulares.</a></h3>
<p>Un elemento fundamental para la manipulación del texto son las <em>expresiones regulares</em>. Éstas sirven para captar <em>patrones</em> que aparecen en el texto y luego operar sobre ellos (extraerlos, reemplazarlos, detectarlos, etc.)</p>
<p><img src="img/regex.png" width="1000" /></p>
<p>por ejemplo</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb425-1" data-line-number="1">un_texto &lt;-<span class="st"> &#39;una concatenación de caracteres&#39;</span></a>
<a class="sourceLine" id="cb425-2" data-line-number="2"></a>
<a class="sourceLine" id="cb425-3" data-line-number="3"><span class="kw">str_detect</span>(un_texto, <span class="st">&#39;una&#39;</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Para generar una expresión regular, utilizamos distintos elementos:</p>
<div id="caracteres-especiales." class="section level4">
<h4><span class="header-section-number">10.1.4.1</span> Caracteres especiales.</h4>
<p>Son formas de referirnos a tipos de caracteres</p>
<p><img src="img/characters.png" width="300" /></p>
<p>por ejemplo</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb427-1" data-line-number="1"><span class="kw">str_detect</span>(un_texto, <span class="st">&#39;[[:punct:]]&#39;</span>)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb429-1" data-line-number="1"><span class="kw">str_detect</span>(un_texto, <span class="st">&#39;[[:alnum:]]&#39;</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p><img src="img/cuantificadores.png" width="300" /></p>
<p>Los cuantificadores nos permiten decír “Este caracter, X veces”</p>
<p>por ejemplo</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb431-1" data-line-number="1"><span class="kw">nchar</span>(un_texto)</a></code></pre></div>
<pre><code>## [1] 31</code></pre>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb433-1" data-line-number="1"><span class="kw">str_detect</span>(un_texto, <span class="st">&#39;(</span><span class="ch">\\</span><span class="st">w|</span><span class="ch">\\</span><span class="st">W){29,33}&#39;</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb435-1" data-line-number="1"><span class="kw">str_detect</span>(un_texto, <span class="st">&#39;(</span><span class="ch">\\</span><span class="st">w|</span><span class="ch">\\</span><span class="st">W){32,35}&#39;</span>)</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Esto se lee como “caracteres de palabras (a,b,c…z ; A,B,C… Z ; 0,1,2..9) <strong>ó</strong> otros caracteres distintos, entre 29 y 33 veces”.</p>
<p>A veces para extraer pedazos de texto nos conviene chequear que hay antes y después. Eso lo hacemos con los <em>lookarounds</em></p>
<p><img src="img/lookaheads.png" width="300" /></p>
<p>Por ejemplo, si queremos recuerar el DNI de la persona entre muchas otras palabras:</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb437-1" data-line-number="1">texto_con_dni &lt;-<span class="st"> &#39;Lorem ipsum dolor sit amet, DNI 38765239,faucibus et dui tellus, eros mi elit...&#39;</span></a>
<a class="sourceLine" id="cb437-2" data-line-number="2"></a>
<a class="sourceLine" id="cb437-3" data-line-number="3"><span class="kw">str_extract</span>(texto_con_dni, <span class="dt">pattern =</span> <span class="st">&#39;(?&lt;=DNI )</span><span class="ch">\\</span><span class="st">d{3,}&#39;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;38765239&quot;</code></pre>
<p>el patrón se lee “Luego de <em>DNI </em> tres o más dígitos”</p>
</div>
</div>
<div id="distancia-de-palabras" class="section level3">
<h3><span class="header-section-number">10.1.5</span> Distancia de palabras</h3>
<p>La distancia de palabras se puede entender desde distintos lugares:</p>
<ul>
<li><strong>Distancia de caracteres</strong>: Refiere a la similitud de escritura “Mueve” vs “Nueve”</li>
<li><strong>Distancia conceptual</strong>: Refiere a la similitud del concepto: “Perro” vs “Labrador”</li>
</ul>
<div id="distancia-de-caracteres" class="section level4">
<h4><span class="header-section-number">10.1.5.1</span> Distancia de caracteres</h4>
<ul>
<li><p><strong>Distancia de Levenshtein</strong> o distancia de edición es el número mínimo de operaciones requeridas para transformar una cadena de caracteres en otra. Una operación puede ser una inserción, eliminación o sustitución de un carácter.</p></li>
<li><p><strong>Jaro Winkler</strong>: Esta medida de similitud da mejores puntajes a los strings que son similares en el principio de la oración. <span class="math inline">\(0 &lt; sim_{jw}&lt;1\)</span>, donde 1 significa que las palabras son idénticas (excepto que p=0.25 y compartan los primeros 4 caracteres). y 0 significa que no se parecen en nada</p></li>
</ul>
</div>
<div id="distancia-conceptual" class="section level4">
<h4><span class="header-section-number">10.1.5.2</span> Distancia Conceptual</h4>
<ul>
<li><p><strong>Word Embeddings</strong>: Son una representación vectorial de las palabras que se construye a partir de observar una gran cantidad de documentos.</p></li>
<li><p><strong>Word2Vec</strong> fue la primera implementación de esta idea. Se entrena una red neuronal para predecir el contexto de una palabra, y luego se utiliza una matriz que se construye dentro de la red como representación de las palabras.</p></li>
</ul>
<p><img src="img/skipgram.png" /></p>
<p><strong>ejemplo</strong>: <a href="https://projector.tensorflow.org/">Proyección en tres dimensiones</a></p>
</div>
</div>
<div id="distancia-de-documentos" class="section level3">
<h3><span class="header-section-number">10.1.6</span> Distancia de Documentos</h3>
<div id="similitud-coseno" class="section level4">
<h4><span class="header-section-number">10.1.6.1</span> Similitud Coseno</h4>
<ul>
<li><p>En el modelo de <strong>BoW</strong> representamos a todos los documentos como vectores n-dimensionales que toman valores en el espacio de los números enteros.</p></li>
<li><p>La dimensión n del espacio está determinada por lo largo del vocabulario utilizado en el corpus.</p></li>
<li><p>Para comparar la similitud entre dos documentos, podemos utilizar la <strong>similitud coseno</strong> entre sus representaciones vectoriales. Intuitivamente, la similitud coseno es una medida de correlación de vectores que representan atributos en lugar de variables que se mueven en un espacio continuo.</p></li>
</ul>
<p>recordemos primero algunas definiciones.</p>
<p>El producto interno entre dos vectores x,y se define como:</p>
<p><span class="math display">\[
\langle x,y \rangle=\sum_i x_i y_i = \|x\|\ \|y\|\cos(\theta)
\]</span></p>
<p>Por su parte, la norma 2 de un vector x se define como:</p>
<p><span class="math display">\[
||x||=\sqrt{\sum_i x^2_i}
\]</span></p>
<p><img src="img/cosine_similarity.png" /></p>
<p><span class="math display">\[
CosSim(x,y) = \frac{\langle x,y \rangle}{\|x\|\ \|y\|} = \frac{\sum_i x_iy_i}{\sum_i x^2_i\sum_i y^2_i} 
\]</span></p>
<ul>
<li><p>Cuantas más palabras compartan los documentos, mayor es el producto punto. Este a su vez se normaliza por el tamaño de cada documento.</p></li>
<li><p>Este valor va de 1 para los documentos son identicos a 0 cuando son totalmente distintos.</p></li>
</ul>
</div>
</div>
<div id="topic-modelling" class="section level3">
<h3><span class="header-section-number">10.1.7</span> Topic Modelling</h3>
<ul>
<li><p>Las técincas de Modelado de Tópicos tratan de captar los temas de los que habla un corpus de texto.</p></li>
<li>Una de las técnicas más difundidas en la actualidad es <a href="http://www.jmlr.org/papers/volume3/blei03a/blei03a.pdf"><strong>Latent Dirichlet Allocation Models</strong></a></li>
<li><p>Éste es un modelo inferencial bayesiano. No vamos a poder estdiar el detalle del modelo en este curso, pero a grandes rasgos propone un <em>proceso generativo</em> donde cada palabra es el resultado de un encadenamiento de distribuciones, y luego se realiza <em>inferencia hacia atrás</em> para calcular <em>la distribución más probable dada las palabras y los documentos</em></p></li>
</ul>
<p><img src="img/grafo_lda.png" width="1000" /></p>
<p>El resultado del modelo es:</p>
<ul>
<li><em>Una distribución de palabras por tópico</em>: Podemos caracterizar cada tópico por sus palabras más importantes.</li>
<li><em>Una distribución de los tópicos por documento</em>: Podemos caracterizar un documento por sus temas más importantes</li>
</ul>
<p><img src="img/LDA.png" width="1000" /></p>

<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb439-1" data-line-number="1"><span class="co"># install.packages(&quot;rtweet&quot;)</span></a>
<a class="sourceLine" id="cb439-2" data-line-number="2"><span class="kw">library</span>(rtweet)</a>
<a class="sourceLine" id="cb439-3" data-line-number="3"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb439-4" data-line-number="4"><span class="kw">library</span>(tm)</a>
<a class="sourceLine" id="cb439-5" data-line-number="5"><span class="kw">library</span>(wordcloud2)</a>
<a class="sourceLine" id="cb439-6" data-line-number="6"><span class="kw">library</span>(topicmodels)</a>
<a class="sourceLine" id="cb439-7" data-line-number="7"><span class="kw">library</span>(LDAvis)</a>
<a class="sourceLine" id="cb439-8" data-line-number="8"><span class="kw">library</span>(tsne)</a></code></pre></div>
</div>
<div id="descargas-de-tweets-con-rtweet" class="section level3">
<h3><span class="header-section-number">10.1.8</span> Descargas de tweets con <code>rtweet</code></h3>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" data-line-number="1">rt &lt;-<span class="st"> </span><span class="kw">search_tweets</span>(<span class="dt">q =</span> <span class="st">&quot;metrovias OR bondi OR Subte OR autopista OR transporte público&quot;,type = &quot;</span>mixed<span class="st">&quot;, n = 18000, include_rts = FALSE,</span></a>
<a class="sourceLine" id="cb440-2" data-line-number="2"><span class="st">                    lang=&#39;es&#39;)</span></a>
<a class="sourceLine" id="cb440-3" data-line-number="3"></a>
<a class="sourceLine" id="cb440-4" data-line-number="4"><span class="st">saveRDS(rt,&#39;fuentes/rt.RDS&#39;)</span></a></code></pre></div>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb441-1" data-line-number="1">rt &lt;-<span class="st"> </span><span class="kw">read_rds</span>(<span class="st">&#39;fuentes/rt.RDS&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" data-line-number="1">rt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb442-2" data-line-number="2"><span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">10</span>)</a></code></pre></div>
<pre><code>## # A tibble: 10 x 90
##    user_id status_id created_at          screen_name text  source
##    &lt;chr&gt;   &lt;chr&gt;     &lt;dttm&gt;              &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt; 
##  1 225288… 11741366… 2019-09-18 01:42:55 edelamadrid Un s… Twitt…
##  2 141353… 11744968… 2019-09-19 01:34:13 microprosa  &quot;@ar… Twitt…
##  3 672362… 11732417… 2019-09-15 14:26:53 djriveraros @mag… Twitt…
##  4 150072… 11745045… 2019-09-19 02:04:39 ElNacional… #ENC… Twitt…
##  5 943586… 11751139… 2019-09-20 18:26:05 Kukt8       @gav… Twitt…
##  6 1638691 11743557… 2019-09-18 16:13:12 Fotomaf     He u… Twitt…
##  7 467564… 11750803… 2019-09-20 16:12:41 fercastill… @Sam… Twitt…
##  8 339036… 11740717… 2019-09-17 21:24:45 rutaarauca… 🇨🇱 🐎… Hoots…
##  9 267300… 11725036… 2019-09-13 13:33:55 shisusR     &quot;Yo … Twitt…
## 10 104960… 11725291… 2019-09-13 15:15:09 amosbcn     Cola… Twitt…
## # … with 84 more variables: display_text_width &lt;dbl&gt;,
## #   reply_to_status_id &lt;chr&gt;, reply_to_user_id &lt;chr&gt;,
## #   reply_to_screen_name &lt;chr&gt;, is_quote &lt;lgl&gt;, is_retweet &lt;lgl&gt;,
## #   favorite_count &lt;int&gt;, retweet_count &lt;int&gt;, quote_count &lt;int&gt;,
## #   reply_count &lt;int&gt;, hashtags &lt;list&gt;, symbols &lt;list&gt;, urls_url &lt;list&gt;,
## #   urls_t.co &lt;list&gt;, urls_expanded_url &lt;list&gt;, media_url &lt;list&gt;,
## #   media_t.co &lt;list&gt;, media_expanded_url &lt;list&gt;, media_type &lt;list&gt;,
## #   ext_media_url &lt;list&gt;, ext_media_t.co &lt;list&gt;,
## #   ext_media_expanded_url &lt;list&gt;, ext_media_type &lt;chr&gt;,
## #   mentions_user_id &lt;list&gt;, mentions_screen_name &lt;list&gt;, lang &lt;chr&gt;,
## #   quoted_status_id &lt;chr&gt;, quoted_text &lt;chr&gt;, quoted_created_at &lt;dttm&gt;,
## #   quoted_source &lt;chr&gt;, quoted_favorite_count &lt;int&gt;,
## #   quoted_retweet_count &lt;int&gt;, quoted_user_id &lt;chr&gt;,
## #   quoted_screen_name &lt;chr&gt;, quoted_name &lt;chr&gt;,
## #   quoted_followers_count &lt;int&gt;, quoted_friends_count &lt;int&gt;,
## #   quoted_statuses_count &lt;int&gt;, quoted_location &lt;chr&gt;,
## #   quoted_description &lt;chr&gt;, quoted_verified &lt;lgl&gt;,
## #   retweet_status_id &lt;chr&gt;, retweet_text &lt;chr&gt;,
## #   retweet_created_at &lt;dttm&gt;, retweet_source &lt;chr&gt;,
## #   retweet_favorite_count &lt;int&gt;, retweet_retweet_count &lt;int&gt;,
## #   retweet_user_id &lt;chr&gt;, retweet_screen_name &lt;chr&gt;, retweet_name &lt;chr&gt;,
## #   retweet_followers_count &lt;int&gt;, retweet_friends_count &lt;int&gt;,
## #   retweet_statuses_count &lt;int&gt;, retweet_location &lt;chr&gt;,
## #   retweet_description &lt;chr&gt;, retweet_verified &lt;lgl&gt;, place_url &lt;chr&gt;,
## #   place_name &lt;chr&gt;, place_full_name &lt;chr&gt;, place_type &lt;chr&gt;,
## #   country &lt;chr&gt;, country_code &lt;chr&gt;, geo_coords &lt;list&gt;,
## #   coords_coords &lt;list&gt;, bbox_coords &lt;list&gt;, status_url &lt;chr&gt;,
## #   name &lt;chr&gt;, location &lt;chr&gt;, description &lt;chr&gt;, url &lt;chr&gt;,
## #   protected &lt;lgl&gt;, followers_count &lt;int&gt;, friends_count &lt;int&gt;,
## #   listed_count &lt;int&gt;, statuses_count &lt;int&gt;, favourites_count &lt;int&gt;,
## #   account_created_at &lt;dttm&gt;, verified &lt;lgl&gt;, profile_url &lt;chr&gt;,
## #   profile_expanded_url &lt;chr&gt;, account_lang &lt;lgl&gt;,
## #   profile_banner_url &lt;chr&gt;, profile_background_url &lt;chr&gt;,
## #   profile_image_url &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" data-line-number="1"><span class="kw">range</span>(rt<span class="op">$</span>created_at)</a></code></pre></div>
<pre><code>## [1] &quot;2019-09-13 03:04:47 UTC&quot; &quot;2019-09-21 18:24:56 UTC&quot;</code></pre>
<p>Nos da los tweets de los últimos nueve días, o el máximo que indicamos más reciente</p>
<div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" data-line-number="1">rt <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb446-2" data-line-number="2"><span class="st">  </span><span class="kw">ts_plot</span>(<span class="st">&quot;3 hours&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb446-3" data-line-number="3"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb446-4" data-line-number="4"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">plot.title =</span> ggplot2<span class="op">::</span><span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb446-5" data-line-number="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb446-6" data-line-number="6">    <span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb446-7" data-line-number="7">    <span class="dt">title =</span> <span class="st">&quot;Frecuencia de los tweets relacionados al tránsito&quot;</span>,</a>
<a class="sourceLine" id="cb446-8" data-line-number="8">    <span class="dt">subtitle =</span> <span class="st">&quot;Agregado a intervalos de tres horas&quot;</span>)</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-235-1.png" width="1440" /></p>
<ul>
<li>Me quedo con el texto</li>
</ul>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb447-1" data-line-number="1">texto &lt;-<span class="st">  </span>rt<span class="op">$</span>text </a>
<a class="sourceLine" id="cb447-2" data-line-number="2"></a>
<a class="sourceLine" id="cb447-3" data-line-number="3">texto[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>]</a></code></pre></div>
<pre><code>##  [1] &quot;▶ Dos sujetos robaron a usuarios de un vehículo de transporte público https://t.co/3c0fSjKrWF https://t.co/uGYN8CyLuZ&quot;                                                                                                                                                                                      
##  [2] &quot;Detienen a dos menores por asalto a transporte público https://t.co/R2VNKPLV0v https://t.co/MOVow5LUiE&quot;                                                                                                                                                                                                     
##  [3] &quot;Detienen a dos menores por asalto a transporte público\n\nhttps://t.co/6Ff1iewafX https://t.co/eRfyw8RLZy&quot;                                                                                                                                                                                                  
##  [4] &quot;Hombres armados incendian transporte público en #Acapulco https://t.co/WPPQqGckq9 https://t.co/LRzjM0mvPO&quot;                                                                                                                                                                                                  
##  [5] &quot;Hombres armados incendian transporte público en #Acapulco https://t.co/FbmZNWJPKN https://t.co/VSNemKS0S5&quot;                                                                                                                                                                                                  
##  [6] &quot;Según la Veeduría Distrital, la capital necesita con urgencia reducir las emisiones de CO2, producidos principalmente por el transporte público y los vehículos de carga pesada. https://t.co/oSJYsyMRu5&quot;                                                                                                   
##  [7] &quot;El #CMin aprueba un RD para mejorar la #accesibilidad al transporte de las personas con #discapacidad.\n\n♿️Acceso de las sillas de ruedas eléctricas y escúteres a los medios de transporte.\n🐕Afectados por epilepsia y diabetes podrán viajar en transporte público con su perro. https://t.co/MW5BTsZzgB&quot;
##  [8] &quot;Ósea el asunto no es solo así por así, hay que tener en cuenta otras medidas como el Transporte, la eficiencia del transporte público etc. \nDejen de andar pidiendo desniveles como dulces porque aparentemente ni en Peru esa es la solución. \nCierro hilo.&quot;                                             
##  [9] &quot;@cronicaglobal TODOS queremos un transporte Público sostenible, pero lo queremos eficiente...Esperas mas de 6 minutos en hora punta no es eficiencia...&quot;                                                                                                                                                    
## [10] &quot;Me caga cuando alguna persona se le queda viendo a mi cartera cuando la saco para pagar el transporte público. \nQue esperan ver? Un chingo de billetes? …......\nNo ven que estoy igual de jodido que ellos y por eso voy en la combi también.&quot;</code></pre>
<p>Este texto es necesario limpiarlo para que sea más fácil de utilizar.</p>
</div>
<div id="armado-del-corpus-con-tm" class="section level3">
<h3><span class="header-section-number">10.1.9</span> Armado del corpus con <code>tm</code></h3>
<ul>
<li>Primero creo un objeto de tipo Corpus. Utilizamos algo distinto a los conocidos vectores of dataframes porque es un objeto optimizado para trabajar con texto. Esto nos permite que los procesos sean mucho más eficientes, y por lo tanto trabajar con grandes corpus de manera rápida</li>
</ul>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" data-line-number="1">myCorpus =<span class="st"> </span><span class="kw">Corpus</span>(<span class="kw">VectorSource</span>(texto))</a></code></pre></div>
</div>
<div id="limpieza-del-corpus" class="section level3">
<h3><span class="header-section-number">10.1.10</span> Limpieza del Corpus</h3>
<ul>
<li>Con la función <code>tm_map</code> podemos iterar sobre el corpus aplicando una transformación sobre cada documento (se acuerdan de la librería <code>PURRR</code>?)</li>
</ul>
<p>En este caso, para la limpieza utilizaremos las siguientes transformaciones.</p>
<ol style="list-style-type: decimal">
<li>Pasar todo a minúscula (cómo la función que usamos no es de la librería <code>tm</code> tenemos que usar también <code>content_transformer</code> )</li>
<li>Sacar la puntuación</li>
<li>Sacar los números</li>
<li>Sacar las stopwords</li>
</ol>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" data-line-number="1">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, <span class="kw">content_transformer</span>(tolower))</a>
<a class="sourceLine" id="cb450-2" data-line-number="2">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removePunctuation)</a>
<a class="sourceLine" id="cb450-3" data-line-number="3">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removeNumbers)</a>
<a class="sourceLine" id="cb450-4" data-line-number="4">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removeWords, <span class="kw">stopwords</span>(<span class="dt">kind =</span> <span class="st">&quot;es&quot;</span>))</a></code></pre></div>
<p>También deberíamos sacar las palabras que utilizamos para descargar la información.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb451-1" data-line-number="1"><span class="co"># metrovias OR bondi OR Subte OR autopista OR transporte público</span></a>
<a class="sourceLine" id="cb451-2" data-line-number="2">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, removeWords, <span class="kw">c</span>(<span class="st">&#39;metrovias&#39;</span>, <span class="st">&#39;bondi&#39;</span>,<span class="st">&#39;subte&#39;</span>,<span class="st">&#39;autopista&#39;</span>,<span class="st">&#39;transporte&#39;</span>, <span class="st">&#39;público&#39; ))</span></a></code></pre></div>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" data-line-number="1"><span class="kw">inspect</span>(myCorpus[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a></code></pre></div>
<pre><code>## &lt;&lt;SimpleCorpus&gt;&gt;
## Metadata:  corpus specific: 1, document level (indexed): 0
## Content:  documents: 10
## 
##  [1] ▶ dos sujetos robaron  usuarios   vehículo    httpstcocfsjkrwf httpstcougyncyluz                                                                                                                             
##  [2] detienen  dos menores  asalto    httpstcorvnkplvv httpstcomovowluie                                                                                                                                          
##  [3] detienen  dos menores  asalto   \n\nhttpstcoffiewafx httpstcoerfywrlzy                                                                                                                                       
##  [4] hombres armados incendian    acapulco httpstcowppqqgckq httpstcolrzjmmvpo                                                                                                                                    
##  [5] hombres armados incendian    acapulco httpstcofbmznwjpkn httpstcovsnemkss                                                                                                                                    
##  [6] según  veeduría distrital  capital necesita  urgencia reducir  emisiones  co producidos principalmente       vehículos  carga pesada httpstcoosjysymru                                                       
##  [7]  cmin aprueba  rd  mejorar  accesibilidad     personas  discapacidad\n\n♿️acceso   sillas  ruedas eléctricas  escúteres   medios  \n🐕afectados  epilepsia  diabetes podrán viajar      perro httpstcomwbtszzgb
##  [8] ósea  asunto   solo así  así   tener  cuenta  medidas     eficiencia    etc \ndejen  andar pidiendo desniveles  dulces  aparentemente   peru    solución \ncierro hilo                                       
##  [9] cronicaglobal  queremos    sostenible   queremos eficienteesperas mas   minutos  hora punta   eficiencia                                                                                                     
## [10]  caga  alguna persona   queda viendo   cartera   saco  pagar    \n esperan ver  chingo  billetes …\n ven   igual  jodido      voy   combi</code></pre>
<p>podemos ver que nos quedaron unos <strong></strong> que son la forma de representar el “enter”. Lo mejor sería eliminarlos.</p>
<p>También queremos sacar los links. Para eso vamos a usar expresiones regulares para definir el patron que tiene un link, y luego crearemos una función que los elimine.</p>
<div id="expresiones-regulares" class="section level4">
<h4><span class="header-section-number">10.1.10.1</span> Expresiones regulares</h4>
<p>Para que sea más sencilla la construcción de la expresión regular, usamos la librería <a href="https://rverbalexpressions.netlify.com/index.html">RVerbalExpressions</a></p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" data-line-number="1"><span class="co"># devtools::install_github(&quot;VerbalExpressions/RVerbalExpressions&quot;)</span></a>
<a class="sourceLine" id="cb454-2" data-line-number="2"><span class="kw">library</span>(RVerbalExpressions)</a>
<a class="sourceLine" id="cb454-3" data-line-number="3"></a>
<a class="sourceLine" id="cb454-4" data-line-number="4">expresion &lt;-<span class="st"> </span><span class="kw">rx</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb454-5" data-line-number="5"><span class="st">  </span><span class="kw">rx_find</span>(<span class="st">&#39;http&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb454-6" data-line-number="6"><span class="st">  </span><span class="kw">rx_maybe</span>(<span class="st">&#39;s&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb454-7" data-line-number="7"><span class="st">  </span><span class="co"># rx_maybe(&#39;://&#39;) %&gt;% #como ya lo pasamos por los otros filtros, ya no hay puntuacion</span></a>
<a class="sourceLine" id="cb454-8" data-line-number="8"><span class="st">  </span><span class="kw">rx_anything_but</span>(<span class="dt">value =</span> <span class="st">&#39; &#39;</span>)</a>
<a class="sourceLine" id="cb454-9" data-line-number="9"></a>
<a class="sourceLine" id="cb454-10" data-line-number="10">expresion</a></code></pre></div>
<pre><code>## [1] &quot;(http)(s)?([^ ]*)&quot;</code></pre>
<p>Probamos la expresion con un ejemplo</p>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" data-line-number="1">txt &lt;-<span class="st"> &quot;detienen  dos menores  asalto  transporte público\n</span><span class="ch">\n</span><span class="st">httpstcoffiewafx httpstcoerfywrlzy&quot;</span>      </a>
<a class="sourceLine" id="cb456-2" data-line-number="2"><span class="kw">str_remove_all</span>(txt, <span class="dt">pattern =</span> expresion)</a></code></pre></div>
<pre><code>## [1] &quot;detienen  dos menores  asalto  transporte público\n\n &quot;</code></pre>
<p>Lo pasamos por el corpus</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" data-line-number="1">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, <span class="kw">content_transformer</span>(<span class="cf">function</span>(x) <span class="kw">str_remove_all</span>(x, <span class="dt">pattern =</span> expresion)))</a>
<a class="sourceLine" id="cb458-2" data-line-number="2">myCorpus =<span class="st"> </span><span class="kw">tm_map</span>(myCorpus, <span class="kw">content_transformer</span>(<span class="cf">function</span>(x) <span class="kw">str_remove_all</span>(x, <span class="dt">pattern =</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)))</a></code></pre></div>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" data-line-number="1"><span class="kw">inspect</span>(myCorpus[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a></code></pre></div>
<pre><code>## &lt;&lt;SimpleCorpus&gt;&gt;
## Metadata:  corpus specific: 1, document level (indexed): 0
## Content:  documents: 10
## 
##  [1] ▶ dos sujetos robaron  usuarios   vehículo                                                                                                                                            
##  [2] detienen  dos menores  asalto                                                                                                                                                         
##  [3] detienen  dos menores  asalto                                                                                                                                                         
##  [4] hombres armados incendian    acapulco                                                                                                                                                 
##  [5] hombres armados incendian    acapulco                                                                                                                                                 
##  [6] según  veeduría distrital  capital necesita  urgencia reducir  emisiones  co producidos principalmente       vehículos  carga pesada                                                  
##  [7]  cmin aprueba  rd  mejorar  accesibilidad     personas  discapacidad♿️acceso   sillas  ruedas eléctricas  escúteres   medios  🐕afectados  epilepsia  diabetes podrán viajar      perro 
##  [8] ósea  asunto   solo así  así   tener  cuenta  medidas     eficiencia    etc dejen  andar pidiendo desniveles  dulces  aparentemente   peru    solución cierro hilo                    
##  [9] cronicaglobal  queremos    sostenible   queremos eficienteesperas mas   minutos  hora punta   eficiencia                                                                              
## [10]  caga  alguna persona   queda viendo   cartera   saco  pagar     esperan ver  chingo  billetes … ven   igual  jodido      voy   combi</code></pre>
<p>Creamos una matriz de Término-documento</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb461-1" data-line-number="1">myDTM =<span class="st"> </span><span class="kw">DocumentTermMatrix</span>(myCorpus, <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">minWordLength =</span> <span class="dv">1</span>))</a></code></pre></div>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" data-line-number="1"><span class="kw">inspect</span>(myDTM)</a></code></pre></div>
<pre><code>## &lt;&lt;DocumentTermMatrix (documents: 17697, terms: 43484)&gt;&gt;
## Non-/sparse entries: 227647/769308701
## Sparsity           : 100%
## Maximal term length: 137
## Weighting          : term frequency (tf)
## Sample             :
##        Terms
## Docs    así ciudad gente metro movilidad publico ser servicio sistema uso
##   10446   0      1     0     0         0       1   0        0       0   0
##   11678   0      0     0     0         0       0   0        0       0   0
##   11689   0      0     0     0         0       0   0        0       0   0
##   12916   0      0     0     0         0       0   0        0       0   0
##   13169   0      0     1     0         0       0   0        0       0   0
##   13736   0      0     0     1         0       0   0        0       0   0
##   16210   0      0     0     0         0       1   0        0       0   0
##   2359    0      0     0     0         0       0   0        0       0   0
##   3539    0      0     0     0         0       0   0        0       0   0
##   5963    0      0     0     0         2       0   0        0       0   0</code></pre>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" data-line-number="1">palabras_frecuentes &lt;-<span class="st"> </span><span class="kw">findMostFreqTerms</span>(myDTM,<span class="dt">n =</span> <span class="dv">25</span>, <span class="dt">INDEX =</span> <span class="kw">rep</span>(<span class="dv">1</span>,<span class="kw">nDocs</span>(myDTM)))[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb464-2" data-line-number="2"></a>
<a class="sourceLine" id="cb464-3" data-line-number="3">palabras_frecuentes</a></code></pre></div>
<pre><code>##   publico     gente    ciudad     metro  servicio       ser movilidad 
##      1425      1081      1026       934       890       737       692 
##       así   sistema       uso       hoy     mejor       día      solo 
##       583       572       572       560       557       553       533 
##     hacer  personas   mejorar     menos      hace      usar      bien 
##       532       512       498       495       491       485       461 
##     puede       vez   calidad     tener 
##       447       446       443       441</code></pre>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" data-line-number="1">palabras_frecuentes &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">word =</span> <span class="kw">names</span>(palabras_frecuentes), <span class="dt">freq =</span>palabras_frecuentes)</a>
<a class="sourceLine" id="cb466-2" data-line-number="2"></a>
<a class="sourceLine" id="cb466-3" data-line-number="3"><span class="kw">wordcloud2</span>(palabras_frecuentes, <span class="dt">shuffle =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div id="htmlwidget-64d060614370758aaa1c" style="width:1440px;height:672px;" class="wordcloud2 html-widget"></div>
<script type="application/json" data-for="htmlwidget-64d060614370758aaa1c">{"x":{"word":["publico","gente","ciudad","metro","servicio","ser","movilidad","así","sistema","uso","hoy","mejor","día","solo","hacer","personas","mejorar","menos","hace","usar","bien","puede","vez","calidad","tener"],"freq":[1425,1081,1026,934,890,737,692,583,572,572,560,557,553,533,532,512,498,495,491,485,461,447,446,443,441],"fontFamily":"Segoe UI","fontWeight":"bold","color":"random-dark","minSize":0,"weightFactor":0.126315789473684,"backgroundColor":"white","gridSize":0,"minRotation":-0.785398163397448,"maxRotation":0.785398163397448,"shuffle":false,"rotateRatio":0.4,"shape":"circle","ellipticity":0.65,"figBase64":null,"hover":null},"evals":[],"jsHooks":{"render":[{"code":"function(el,x){\n                        console.log(123);\n                        if(!iii){\n                          window.location.reload();\n                          iii = False;\n\n                        }\n  }","data":null}]}}</script>
</div>
</div>
<div id="topic-modeling" class="section level3">
<h3><span class="header-section-number">10.1.11</span> Topic Modeling</h3>
<p>necesito eliminar los documentos vacíos (que luego de la limpieza quedaron sin ningúna palabra)</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb467-1" data-line-number="1">ui =<span class="st"> </span><span class="kw">unique</span>(myDTM<span class="op">$</span>i)</a>
<a class="sourceLine" id="cb467-2" data-line-number="2">dtm =<span class="st"> </span>myDTM[ui,]</a>
<a class="sourceLine" id="cb467-3" data-line-number="3"></a>
<a class="sourceLine" id="cb467-4" data-line-number="4"><span class="kw">dim</span>(myDTM)</a></code></pre></div>
<pre><code>## [1] 17697 43484</code></pre>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb469-1" data-line-number="1"><span class="kw">dim</span>(dtm)</a></code></pre></div>
<pre><code>## [1] 17677 43484</code></pre>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb471-1" data-line-number="1">lda_fit &lt;-<span class="st"> </span><span class="kw">LDA</span>(dtm, <span class="dt">k =</span> <span class="dv">10</span>,<span class="dt">method =</span> <span class="st">&quot;Gibbs&quot;</span>, <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">delta=</span><span class="fl">0.6</span>,<span class="dt">seed =</span> <span class="dv">1234</span>))</a>
<a class="sourceLine" id="cb471-2" data-line-number="2">lda_fit</a>
<a class="sourceLine" id="cb471-3" data-line-number="3"><span class="kw">saveRDS</span>(lda_fit,<span class="st">&#39;resultados/lda_fit.rds&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" data-line-number="1">lda_fit &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&#39;resultados/lda_fit.rds&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb473-1" data-line-number="1">Terms &lt;-<span class="st"> </span><span class="kw">terms</span>(lda_fit, <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb473-2" data-line-number="2">Terms</a></code></pre></div>
<pre><code>##       Topic 1    Topic 2     Topic 3    Topic 4        Topic 5  
##  [1,] &quot;mejorar&quot;  &quot;movilidad&quot; &quot;servicio&quot; &quot;ciudad&quot;       &quot;día&quot;    
##  [2,] &quot;hace&quot;     &quot;uso&quot;       &quot;ser&quot;      &quot;pasaje&quot;       &quot;cada&quot;   
##  [3,] &quot;puede&quot;    &quot;coche&quot;     &quot;madrid&quot;   &quot;bogotá&quot;       &quot;hoy&quot;    
##  [4,] &quot;medio&quot;    &quot;vehículos&quot; &quot;mejor&quot;    &quot;sabe&quot;         &quot;vez&quot;    
##  [5,] &quot;centro&quot;   &quot;semana&quot;    &quot;personas&quot; &quot;claudialopez&quot; &quot;hora&quot;   
##  [6,] &quot;años&quot;     &quot;bici&quot;      &quot;debe&quot;     &quot;parís&quot;        &quot;trabajo&quot;
##  [7,] &quot;tránsito&quot; &quot;bicicleta&quot; &quot;buen&quot;     &quot;tan&quot;          &quot;menos&quot;  
##  [8,] &quot;algún&quot;    &quot;ciudad&quot;    &quot;vas&quot;      &quot;huelga&quot;       &quot;bien&quot;   
##  [9,] &quot;utilizar&quot; &quot;privado&quot;   &quot;debería&quot;  &quot;reforma&quot;      &quot;horas&quot;  
## [10,] &quot;evitar&quot;   &quot;millones&quot;  &quot;defensa&quot;  &quot;precio&quot;       &quot;voy&quot;    
##       Topic 6       Topic 7     Topic 8     Topic 9        Topic 10
##  [1,] &quot;gente&quot;       &quot;pasajeros&quot; &quot;publico&quot;   &quot;sistema&quot;      &quot;usar&quot;  
##  [2,] &quot;metro&quot;       &quot;vía&quot;       &quot;seguridad&quot; &quot;calidad&quot;      &quot;solo&quot;  
##  [3,] &quot;enciudad&quot;    &quot;unidades&quot;  &quot;casa&quot;      &quot;hacer&quot;        &quot;mejor&quot; 
##  [4,] &quot;luisdejesus&quot; &quot;usuarios&quot;  &quot;auto&quot;      &quot;problema&quot;     &quot;van&quot;   
##  [5,] &quot;viajar&quot;      &quot;aumento&quot;   &quot;atención&quot;  &quot;gobierno&quot;     &quot;mal&quot;   
##  [6,] &quot;ahora&quot;       &quot;tarifa&quot;    &quot;llegar&quot;    &quot;tener&quot;        &quot;así&quot;   
##  [7,] &quot;caminar&quot;     &quot;sep&quot;       &quot;espacio&quot;   &quot;parte&quot;        &quot;buses&quot; 
##  [8,] &quot;país&quot;        &quot;unidad&quot;    &quot;luego&quot;     &quot;claudiashein&quot; &quot;vida&quot;  
##  [9,] &quot;crisis&quot;      &quot;falta&quot;     &quot;seguro&quot;    &quot;cdmx&quot;         &quot;menos&quot; 
## [10,] &quot;caracas&quot;     &quot;dos&quot;       &quot;cuenta&quot;    &quot;autos&quot;        &quot;bien&quot;</code></pre>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" data-line-number="1">topicmodels_json_ldavis &lt;-<span class="st"> </span><span class="cf">function</span>(fitted, dtm){</a>
<a class="sourceLine" id="cb475-2" data-line-number="2">    svd_tsne &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">tsne</span>(<span class="kw">svd</span>(x)<span class="op">$</span>u)</a>
<a class="sourceLine" id="cb475-3" data-line-number="3"></a>
<a class="sourceLine" id="cb475-4" data-line-number="4">    <span class="co"># Find required quantities</span></a>
<a class="sourceLine" id="cb475-5" data-line-number="5">    phi &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">posterior</span>(fitted)<span class="op">$</span>terms)</a>
<a class="sourceLine" id="cb475-6" data-line-number="6">    theta &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">posterior</span>(fitted)<span class="op">$</span>topics)</a>
<a class="sourceLine" id="cb475-7" data-line-number="7">    vocab &lt;-<span class="st"> </span><span class="kw">colnames</span>(phi)</a>
<a class="sourceLine" id="cb475-8" data-line-number="8">    term_freq &lt;-<span class="st"> </span>slam<span class="op">::</span><span class="kw">col_sums</span>(dtm)</a>
<a class="sourceLine" id="cb475-9" data-line-number="9"></a>
<a class="sourceLine" id="cb475-10" data-line-number="10">    <span class="co"># Convert to json</span></a>
<a class="sourceLine" id="cb475-11" data-line-number="11">    json_lda &lt;-<span class="st"> </span>LDAvis<span class="op">::</span><span class="kw">createJSON</span>(<span class="dt">phi =</span> phi, <span class="dt">theta =</span> theta,</a>
<a class="sourceLine" id="cb475-12" data-line-number="12">                            <span class="dt">vocab =</span> vocab,</a>
<a class="sourceLine" id="cb475-13" data-line-number="13">                            <span class="dt">mds.method =</span> svd_tsne,</a>
<a class="sourceLine" id="cb475-14" data-line-number="14">                            <span class="dt">plot.opts =</span> <span class="kw">list</span>(<span class="dt">xlab=</span><span class="st">&quot;tsne&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;&quot;</span>),</a>
<a class="sourceLine" id="cb475-15" data-line-number="15">                            <span class="dt">doc.length =</span> <span class="kw">as.vector</span>(<span class="kw">table</span>(dtm<span class="op">$</span>i)),</a>
<a class="sourceLine" id="cb475-16" data-line-number="16">                            <span class="dt">term.frequency =</span> term_freq)</a>
<a class="sourceLine" id="cb475-17" data-line-number="17"></a>
<a class="sourceLine" id="cb475-18" data-line-number="18">    <span class="kw">return</span>(json_lda)</a>
<a class="sourceLine" id="cb475-19" data-line-number="19">}</a></code></pre></div>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" data-line-number="1">json_res &lt;-<span class="st"> </span><span class="kw">topicmodels_json_ldavis</span>(lda_fit, dtm)</a>
<a class="sourceLine" id="cb476-2" data-line-number="2"></a>
<a class="sourceLine" id="cb476-3" data-line-number="3"><span class="co">#en consola</span></a>
<a class="sourceLine" id="cb476-4" data-line-number="4"><span class="co"># serVis(json_res)</span></a></code></pre></div>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="mineria-de-textos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mapas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
