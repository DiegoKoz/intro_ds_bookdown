<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science</title>
  <meta name="description" content="desarrollado para el Min. de Transporte (Argentina)" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science" />
  
  <meta name="twitter:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

<meta name="author" content="Diego Kozlowski y Natsumi Shokida" />


<meta name="date" content="2019-10-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="explicacion-3.html"/>
<link rel="next" href="documentacion-en-r.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.1/DiagrammeR.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#presentacion"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos-del-curso"><i class="fa fa-check"></i>Objetivos del curso</a></li>
<li><a href="index.html#webpage"><span>Webpage</span></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario:</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliografia-de-consulta"><i class="fa fa-check"></i>Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html"><i class="fa fa-check"></i><b>1</b> Introducción a R</a><ul>
<li class="chapter" data-level="1.1" data-path="explicacion.html"><a href="explicacion.html"><i class="fa fa-check"></i><b>1.1</b> Explicación</a><ul>
<li class="chapter" data-level="1.1.1" data-path="explicacion.html"><a href="explicacion.html#que-es-r"><i class="fa fa-check"></i><b>1.1.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="explicacion.html"><a href="explicacion.html#logica-sintactica."><i class="fa fa-check"></i><b>1.1.2</b> Lógica sintáctica.</a></li>
<li class="chapter" data-level="1.1.3" data-path="explicacion.html"><a href="explicacion.html#r-base"><i class="fa fa-check"></i><b>1.1.3</b> R base</a></li>
<li class="chapter" data-level="1.1.4" data-path="explicacion.html"><a href="explicacion.html#objetos"><i class="fa fa-check"></i><b>1.1.4</b> Objetos:</a></li>
<li class="chapter" data-level="1.1.5" data-path="explicacion.html"><a href="explicacion.html#data-frames"><i class="fa fa-check"></i><b>1.1.5</b> Data Frames</a></li>
<li class="chapter" data-level="1.1.6" data-path="explicacion.html"><a href="explicacion.html#listas"><i class="fa fa-check"></i><b>1.1.6</b> Listas</a></li>
<li class="chapter" data-level="1.1.7" data-path="explicacion.html"><a href="explicacion.html#ambientes-de-trabajo"><i class="fa fa-check"></i><b>1.1.7</b> Ambientes de trabajo</a></li>
<li class="chapter" data-level="1.1.8" data-path="explicacion.html"><a href="explicacion.html#tipos-de-archivos-de-r"><i class="fa fa-check"></i><b>1.1.8</b> Tipos de archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="practica-guiada.html"><a href="practica-guiada.html"><i class="fa fa-check"></i><b>1.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="1.2.1" data-path="practica-guiada.html"><a href="practica-guiada.html#instalacion-de-paquetes-complementarios-al-r-base"><i class="fa fa-check"></i><b>1.2.1</b> Instalación de paquetes complementarios al R Base</a></li>
<li class="chapter" data-level="1.2.2" data-path="practica-guiada.html"><a href="practica-guiada.html#lectura-y-escritura-de-archivos"><i class="fa fa-check"></i><b>1.2.2</b> Lectura y escritura de archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="explicacion-1.html"><a href="explicacion-1.html"><i class="fa fa-check"></i><b>2.1</b> Explicación</a><ul>
<li class="chapter" data-level="2.1.1" data-path="explicacion-1.html"><a href="explicacion-1.html#dplyr"><i class="fa fa-check"></i><b>2.1.1</b> Dplyr</a></li>
<li class="chapter" data-level="2.1.2" data-path="explicacion-1.html"><a href="explicacion-1.html#joins"><i class="fa fa-check"></i><b>2.1.2</b> Joins</a></li>
<li class="chapter" data-level="2.1.3" data-path="explicacion-1.html"><a href="explicacion-1.html#tidyr"><i class="fa fa-check"></i><b>2.1.3</b> Tidyr</a></li>
<li class="chapter" data-level="2.1.4" data-path="explicacion-1.html"><a href="explicacion-1.html#lubridate"><i class="fa fa-check"></i><b>2.1.4</b> Lubridate</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html"><i class="fa fa-check"></i><b>2.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="2.2.1" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-1"><i class="fa fa-check"></i><b>2.2.1</b> Ejemplo 1</a></li>
<li class="chapter" data-level="2.2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-2"><i class="fa fa-check"></i><b>2.2.2</b> Ejemplo 2</a></li>
<li class="chapter" data-level="2.2.3" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-3"><i class="fa fa-check"></i><b>2.2.3</b> Ejemplo 3</a></li>
<li class="chapter" data-level="2.2.4" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-4"><i class="fa fa-check"></i><b>2.2.4</b> Ejemplo 4</a></li>
<li class="chapter" data-level="2.2.5" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-5"><i class="fa fa-check"></i><b>2.2.5</b> Ejemplo 5</a></li>
<li class="chapter" data-level="2.2.6" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-6"><i class="fa fa-check"></i><b>2.2.6</b> Ejemplo 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programacion-funcional.html"><a href="programacion-funcional.html"><i class="fa fa-check"></i><b>3</b> Programacion Funcional</a><ul>
<li class="chapter" data-level="3.1" data-path="explicacion-2.html"><a href="explicacion-2.html"><i class="fa fa-check"></i><b>3.1</b> Explicación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="explicacion-2.html"><a href="explicacion-2.html#loops"><i class="fa fa-check"></i><b>3.1.1</b> Loops</a></li>
<li class="chapter" data-level="3.1.2" data-path="explicacion-2.html"><a href="explicacion-2.html#estructuras-condicionales"><i class="fa fa-check"></i><b>3.1.2</b> Estructuras Condicionales</a></li>
<li class="chapter" data-level="3.1.3" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-1"><i class="fa fa-check"></i><b>3.1.3</b> Funciones</a></li>
<li class="chapter" data-level="3.1.4" data-path="explicacion-2.html"><a href="explicacion-2.html#purrr"><i class="fa fa-check"></i><b>3.1.4</b> PURRR</a></li>
<li class="chapter" data-level="3.1.5" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-implicitas"><i class="fa fa-check"></i><b>3.1.5</b> Funciones implícitas</a></li>
<li class="chapter" data-level="3.1.6" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-lambda"><i class="fa fa-check"></i><b>3.1.6</b> Funciones lambda</a></li>
<li class="chapter" data-level="3.1.7" data-path="explicacion-2.html"><a href="explicacion-2.html#walk"><i class="fa fa-check"></i><b>3.1.7</b> Walk</a></li>
<li class="chapter" data-level="3.1.8" data-path="explicacion-2.html"><a href="explicacion-2.html#cuando-usar-estas-herramientas"><i class="fa fa-check"></i><b>3.1.8</b> Cuando usar estas herramientas?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html"><i class="fa fa-check"></i><b>3.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="3.2.1" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-1-iterando-en-la-eph"><i class="fa fa-check"></i><b>3.2.1</b> Ejemplo 1: Iterando en la EPH</a></li>
<li class="chapter" data-level="3.2.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-2.-regresion-lineal"><i class="fa fa-check"></i><b>3.2.2</b> Ejemplo 2. Regresión lineal</a></li>
<li class="chapter" data-level="3.2.3" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-3-graficos-en-serie"><i class="fa fa-check"></i><b>3.2.3</b> Ejemplo 3: Gráficos en serie</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizacion-de-la-informacion.html"><a href="visualizacion-de-la-informacion.html"><i class="fa fa-check"></i><b>4</b> Visualización de la información</a><ul>
<li class="chapter" data-level="4.1" data-path="explicacion-3.html"><a href="explicacion-3.html"><i class="fa fa-check"></i><b>4.1</b> Explicación</a><ul>
<li class="chapter" data-level="4.1.1" data-path="explicacion-3.html"><a href="explicacion-3.html#graficos-basicos-en-r"><i class="fa fa-check"></i><b>4.1.1</b> Gráficos Básicos en R</a></li>
<li class="chapter" data-level="4.1.2" data-path="explicacion-3.html"><a href="explicacion-3.html#ggplot2"><i class="fa fa-check"></i><b>4.1.2</b> <span>Ggplot2</span></a></li>
<li class="chapter" data-level="4.1.3" data-path="explicacion-3.html"><a href="explicacion-3.html#ejemplo-con-datos-reales"><i class="fa fa-check"></i><b>4.1.3</b> Ejemplo con datos reales</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html"><i class="fa fa-check"></i><b>4.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="4.2.1" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html#caso-practico-graficos-de-ingresos---eph"><i class="fa fa-check"></i><b>4.2.1</b> Caso práctico: Gráficos de ingresos - EPH</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="documentacion-en-r.html"><a href="documentacion-en-r.html"><i class="fa fa-check"></i><b>5</b> Documentación en R</a><ul>
<li class="chapter" data-level="5.1" data-path="explicacion-4.html"><a href="explicacion-4.html"><i class="fa fa-check"></i><b>5.1</b> Explicación</a><ul>
<li class="chapter" data-level="5.1.1" data-path="explicacion-4.html"><a href="explicacion-4.html#r-markdown-introduccion"><i class="fa fa-check"></i><b>5.1.1</b> R Markdown: Introducción</a></li>
<li class="chapter" data-level="5.1.2" data-path="explicacion-4.html"><a href="explicacion-4.html#requisitos"><i class="fa fa-check"></i><b>5.1.2</b> Requisitos</a></li>
<li class="chapter" data-level="5.1.3" data-path="explicacion-4.html"><a href="explicacion-4.html#markdown-basico"><i class="fa fa-check"></i><b>5.1.3</b> Markdown básico</a></li>
<li class="chapter" data-level="5.1.4" data-path="explicacion-4.html"><a href="explicacion-4.html#formateo-de-texto"><i class="fa fa-check"></i><b>5.1.4</b> Formateo de texto</a></li>
<li class="chapter" data-level="5.1.5" data-path="explicacion-4.html"><a href="explicacion-4.html#bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.5</b> Bloques de código</a></li>
<li class="chapter" data-level="5.1.6" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-en-los-bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.6</b> Opciones en los bloques de código</a></li>
<li class="chapter" data-level="5.1.7" data-path="explicacion-4.html"><a href="explicacion-4.html#tablas"><i class="fa fa-check"></i><b>5.1.7</b> Tablas</a></li>
<li class="chapter" data-level="5.1.8" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-globales"><i class="fa fa-check"></i><b>5.1.8</b> Opciones globales</a></li>
<li class="chapter" data-level="5.1.9" data-path="explicacion-4.html"><a href="explicacion-4.html#codigo-en-la-linea"><i class="fa fa-check"></i><b>5.1.9</b> Código en la línea</a></li>
<li class="chapter" data-level="5.1.10" data-path="explicacion-4.html"><a href="explicacion-4.html#formatos"><i class="fa fa-check"></i><b>5.1.10</b> Formatos</a></li>
<li class="chapter" data-level="5.1.11" data-path="explicacion-4.html"><a href="explicacion-4.html#otros-formatos"><i class="fa fa-check"></i><b>5.1.11</b> Otros formatos</a></li>
<li class="chapter" data-level="5.1.12" data-path="explicacion-4.html"><a href="explicacion-4.html#notebooks"><i class="fa fa-check"></i><b>5.1.12</b> Notebooks</a></li>
<li class="chapter" data-level="5.1.13" data-path="explicacion-4.html"><a href="explicacion-4.html#publicar"><i class="fa fa-check"></i><b>5.1.13</b> Publicar</a></li>
<li class="chapter" data-level="5.1.14" data-path="explicacion-4.html"><a href="explicacion-4.html#flexdashboard"><i class="fa fa-check"></i><b>5.1.14</b> FlexDashboard</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html"><i class="fa fa-check"></i><b>5.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="5.2.1" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#introduccion-1"><i class="fa fa-check"></i><b>5.2.1</b> Introducción</a></li>
<li class="chapter" data-level="5.2.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#explorando-los-datos"><i class="fa fa-check"></i><b>5.2.2</b> Explorando los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>6</b> Shiny apps</a><ul>
<li class="chapter" data-level="6.1" data-path="explicacion-5.html"><a href="explicacion-5.html"><i class="fa fa-check"></i><b>6.1</b> Explicación</a><ul>
<li class="chapter" data-level="6.1.1" data-path="explicacion-5.html"><a href="explicacion-5.html#que-es-un-shiny-app"><i class="fa fa-check"></i><b>6.1.1</b> ¿Qué es un shiny app?</a></li>
<li class="chapter" data-level="6.1.2" data-path="explicacion-5.html"><a href="explicacion-5.html#galeria-de-ejemplos"><i class="fa fa-check"></i><b>6.1.2</b> Galería de ejemplos</a></li>
<li class="chapter" data-level="6.1.3" data-path="explicacion-5.html"><a href="explicacion-5.html#componentes-fundamentales-de-un-shiny-app"><i class="fa fa-check"></i><b>6.1.3</b> Componentes fundamentales de un Shiny app</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html"><i class="fa fa-check"></i><b>6.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="6.2.1" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-2.-gapminder"><i class="fa fa-check"></i><b>6.2.1</b> Ejemplo 2. Gapminder</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="probabilidad-y-estadistica.html"><a href="probabilidad-y-estadistica.html"><i class="fa fa-check"></i><b>7</b> Probabilidad y Estadística</a><ul>
<li class="chapter" data-level="7.1" data-path="explicacion-6.html"><a href="explicacion-6.html"><i class="fa fa-check"></i><b>7.1</b> Explicación</a><ul>
<li class="chapter" data-level="7.1.1" data-path="explicacion-6.html"><a href="explicacion-6.html#probabilidad"><i class="fa fa-check"></i><b>7.1.1</b> Probabilidad</a></li>
<li class="chapter" data-level="7.1.2" data-path="explicacion-6.html"><a href="explicacion-6.html#estadistica"><i class="fa fa-check"></i><b>7.1.2</b> Estadística</a></li>
<li class="chapter" data-level="7.1.3" data-path="explicacion-6.html"><a href="explicacion-6.html#algunos-estimadores-importantes"><i class="fa fa-check"></i><b>7.1.3</b> Algunos estimadores importantes</a></li>
<li class="chapter" data-level="7.1.4" data-path="explicacion-6.html"><a href="explicacion-6.html#graficos-estadisticos"><i class="fa fa-check"></i><b>7.1.4</b> Gráficos estadísticos</a></li>
<li class="chapter" data-level="7.1.5" data-path="explicacion-6.html"><a href="explicacion-6.html#bibliografia-de-consulta-1"><i class="fa fa-check"></i><b>7.1.5</b> Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html"><i class="fa fa-check"></i><b>7.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="7.2.1" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#generacion-de-datos-aleatorios"><i class="fa fa-check"></i><b>7.2.1</b> Generación de datos aleatorios</a></li>
<li class="chapter" data-level="7.2.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#tests"><i class="fa fa-check"></i><b>7.2.2</b> Tests</a></li>
<li class="chapter" data-level="7.2.3" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#descripcion-estadistica-de-los-datos"><i class="fa fa-check"></i><b>7.2.3</b> Descripción estadística de los datos</a></li>
<li class="chapter" data-level="7.2.4" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#graficos-estadisticos-1"><i class="fa fa-check"></i><b>7.2.4</b> Gráficos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modelo-lineal.html"><a href="modelo-lineal.html"><i class="fa fa-check"></i><b>8</b> Modelo Lineal</a><ul>
<li class="chapter" data-level="8.1" data-path="explicacion-7.html"><a href="explicacion-7.html"><i class="fa fa-check"></i><b>8.1</b> Explicación</a><ul>
<li class="chapter" data-level="8.1.1" data-path="explicacion-7.html"><a href="explicacion-7.html#covarianza-y-correlacion."><i class="fa fa-check"></i><b>8.1.1</b> Covarianza y Correlación.</a></li>
<li class="chapter" data-level="8.1.2" data-path="explicacion-7.html"><a href="explicacion-7.html#modelo-lineal-1"><i class="fa fa-check"></i><b>8.1.2</b> Modelo Lineal</a></li>
<li class="chapter" data-level="8.1.3" data-path="explicacion-7.html"><a href="explicacion-7.html#regresion-lineal-multiple"><i class="fa fa-check"></i><b>8.1.3</b> Regresión lineal múltiple</a></li>
<li class="chapter" data-level="8.1.4" data-path="explicacion-7.html"><a href="explicacion-7.html#para-profundizar"><i class="fa fa-check"></i><b>8.1.4</b> Para profundizar</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html"><i class="fa fa-check"></i><b>8.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="8.2.1" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html#datos-de-properati"><i class="fa fa-check"></i><b>8.2.1</b> Datos de Properati</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="analisis-de-encuestas.html"><a href="analisis-de-encuestas.html"><i class="fa fa-check"></i><b>9</b> Análisis de encuestas</a><ul>
<li class="chapter" data-level="9.1" data-path="explicacion-8.html"><a href="explicacion-8.html"><i class="fa fa-check"></i><b>9.1</b> Explicación</a><ul>
<li class="chapter" data-level="9.1.1" data-path="explicacion-8.html"><a href="explicacion-8.html#poblacion-y-muestra-1"><i class="fa fa-check"></i><b>9.1.1</b> Población y muestra</a></li>
<li class="chapter" data-level="9.1.2" data-path="explicacion-8.html"><a href="explicacion-8.html#tipos-de-muestra"><i class="fa fa-check"></i><b>9.1.2</b> Tipos de muestra</a></li>
<li class="chapter" data-level="9.1.3" data-path="explicacion-8.html"><a href="explicacion-8.html#el-cuestionario"><i class="fa fa-check"></i><b>9.1.3</b> El cuestionario</a></li>
<li class="chapter" data-level="9.1.4" data-path="explicacion-8.html"><a href="explicacion-8.html#sesgos"><i class="fa fa-check"></i><b>9.1.4</b> Sesgos</a></li>
<li class="chapter" data-level="9.1.5" data-path="explicacion-8.html"><a href="explicacion-8.html#no-respuesta"><i class="fa fa-check"></i><b>9.1.5</b> No respuesta</a></li>
<li class="chapter" data-level="9.1.6" data-path="explicacion-8.html"><a href="explicacion-8.html#ponderadores-expansores"><i class="fa fa-check"></i><b>9.1.6</b> Ponderadores / Expansores</a></li>
<li class="chapter" data-level="9.1.7" data-path="explicacion-8.html"><a href="explicacion-8.html#ejemplos"><i class="fa fa-check"></i><b>9.1.7</b> Ejemplos</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="encuesta-uso-del-tiempo-2016-ciudad-de-buenos-aires.html"><a href="encuesta-uso-del-tiempo-2016-ciudad-de-buenos-aires.html"><i class="fa fa-check"></i><b>9.2</b> Encuesta Uso del Tiempo 2016 Ciudad de Buenos Aires</a></li>
<li class="chapter" data-level="9.3" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html"><i class="fa fa-check"></i><b>9.3</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="9.3.1" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html#encuesta-permanente-de-hogares-1"><i class="fa fa-check"></i><b>9.3.1</b> Encuesta Permanente de Hogares</a></li>
<li class="chapter" data-level="9.3.2" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html#ejemplo-de-utilizacion-de-la-encuesta"><i class="fa fa-check"></i><b>9.3.2</b> Ejemplo de utilización de la encuesta</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mineria-de-textos.html"><a href="mineria-de-textos.html"><i class="fa fa-check"></i><b>10</b> Minería de Textos</a><ul>
<li class="chapter" data-level="10.1" data-path="explicacion-9.html"><a href="explicacion-9.html"><i class="fa fa-check"></i><b>10.1</b> Explicación</a><ul>
<li class="chapter" data-level="10.1.1" data-path="explicacion-9.html"><a href="explicacion-9.html#introduccion-2"><i class="fa fa-check"></i><b>10.1.1</b> Introducción</a></li>
<li class="chapter" data-level="10.1.2" data-path="explicacion-9.html"><a href="explicacion-9.html#bag-of-words"><i class="fa fa-check"></i><b>10.1.2</b> Bag of Words</a></li>
<li class="chapter" data-level="10.1.3" data-path="explicacion-9.html"><a href="explicacion-9.html#normalizacion"><i class="fa fa-check"></i><b>10.1.3</b> Normalización</a></li>
<li class="chapter" data-level="10.1.4" data-path="explicacion-9.html"><a href="explicacion-9.html#expresiones-regulares."><i class="fa fa-check"></i><b>10.1.4</b> <span>Expresiones regulares.</span></a></li>
<li class="chapter" data-level="10.1.5" data-path="explicacion-9.html"><a href="explicacion-9.html#distancia-de-palabras"><i class="fa fa-check"></i><b>10.1.5</b> Distancia de palabras</a></li>
<li class="chapter" data-level="10.1.6" data-path="explicacion-9.html"><a href="explicacion-9.html#distancia-de-documentos"><i class="fa fa-check"></i><b>10.1.6</b> Distancia de Documentos</a></li>
<li class="chapter" data-level="10.1.7" data-path="explicacion-9.html"><a href="explicacion-9.html#topic-modelling"><i class="fa fa-check"></i><b>10.1.7</b> Topic Modelling</a></li>
<li class="chapter" data-level="10.1.8" data-path="explicacion-9.html"><a href="explicacion-9.html#descargas-de-tweets-con-rtweet"><i class="fa fa-check"></i><b>10.1.8</b> Descargas de tweets con <code>rtweet</code></a></li>
<li class="chapter" data-level="10.1.9" data-path="explicacion-9.html"><a href="explicacion-9.html#armado-del-corpus-con-tm"><i class="fa fa-check"></i><b>10.1.9</b> Armado del corpus con <code>tm</code></a></li>
<li class="chapter" data-level="10.1.10" data-path="explicacion-9.html"><a href="explicacion-9.html#limpieza-del-corpus"><i class="fa fa-check"></i><b>10.1.10</b> Limpieza del Corpus</a></li>
<li class="chapter" data-level="10.1.11" data-path="explicacion-9.html"><a href="explicacion-9.html#topic-modeling"><i class="fa fa-check"></i><b>10.1.11</b> Topic Modeling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="mapas.html"><a href="mapas.html"><i class="fa fa-check"></i><b>11</b> Mapas</a><ul>
<li class="chapter" data-level="11.1" data-path="explicacion-10.html"><a href="explicacion-10.html"><i class="fa fa-check"></i><b>11.1</b> Explicación</a><ul>
<li class="chapter" data-level="11.1.1" data-path="explicacion-10.html"><a href="explicacion-10.html#datos-georreferenciados"><i class="fa fa-check"></i><b>11.1.1</b> Datos georreferenciados</a></li>
<li class="chapter" data-level="11.1.2" data-path="explicacion-10.html"><a href="explicacion-10.html#proyecciones-y-distorsiones"><i class="fa fa-check"></i><b>11.1.2</b> Proyecciones y distorsiones</a></li>
<li class="chapter" data-level="11.1.3" data-path="explicacion-10.html"><a href="explicacion-10.html#tipos-de-datos-espaciales"><i class="fa fa-check"></i><b>11.1.3</b> Tipos de datos espaciales</a></li>
<li class="chapter" data-level="11.1.4" data-path="explicacion-10.html"><a href="explicacion-10.html#paquete-sf"><i class="fa fa-check"></i><b>11.1.4</b> Paquete sf</a></li>
<li class="chapter" data-level="11.1.5" data-path="explicacion-10.html"><a href="explicacion-10.html#tipos-de-archivo"><i class="fa fa-check"></i><b>11.1.5</b> Tipos de archivo</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html"><i class="fa fa-check"></i><b>11.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="11.2.1" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html#representacion-de-la-informacion-en-mapas"><i class="fa fa-check"></i><b>11.2.1</b> Representación de la información en mapas</a></li>
<li class="chapter" data-level="11.2.2" data-path="practica-guiada-9.html"><a href="practica-guiada-9.html#mapeo-de-palos-borrachos-rosados-en-buenos-aires"><i class="fa fa-check"></i><b>11.2.2</b> Mapeo de Palos borrachos rosados en Buenos Aires</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mapa-de-data-science.html"><a href="mapa-de-data-science.html"><i class="fa fa-check"></i><b>12</b> Mapa de Data Science</a><ul>
<li class="chapter" data-level="12.1" data-path="tecnicas.html"><a href="tecnicas.html"><i class="fa fa-check"></i><b>12.1</b> Técnicas</a><ul>
<li class="chapter" data-level="12.1.1" data-path="tecnicas.html"><a href="tecnicas.html#segun-tipo-de-aprendizaje"><i class="fa fa-check"></i><b>12.1.1</b> Según tipo de aprendizaje:</a></li>
<li class="chapter" data-level="12.1.2" data-path="tecnicas.html"><a href="tecnicas.html#segun-el-tipo-de-datos"><i class="fa fa-check"></i><b>12.1.2</b> Según el tipo de datos:</a></li>
<li class="chapter" data-level="12.1.3" data-path="tecnicas.html"><a href="tecnicas.html#desde-el-punto-de-vista-del-remuestreo"><i class="fa fa-check"></i><b>12.1.3</b> Desde el punto de vista del remuestreo:</a></li>
<li class="chapter" data-level="12.1.4" data-path="tecnicas.html"><a href="tecnicas.html#desde-el-punto-de-vista-de-la-optimizacion"><i class="fa fa-check"></i><b>12.1.4</b> Desde el punto de vista de la optimización:</a></li>
<li class="chapter" data-level="12.1.5" data-path="tecnicas.html"><a href="tecnicas.html#flujo-de-trabajo"><i class="fa fa-check"></i><b>12.1.5</b> Flujo de trabajo</a></li>
<li class="chapter" data-level="12.1.6" data-path="tecnicas.html"><a href="tecnicas.html#meta-flujo-de-trabajo"><i class="fa fa-check"></i><b>12.1.6</b> Meta flujo de trabajo</a></li>
<li class="chapter" data-level="12.1.7" data-path="tecnicas.html"><a href="tecnicas.html#otros-temas"><i class="fa fa-check"></i><b>12.1.7</b> Otros temas</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="implementaciones.html"><a href="implementaciones.html"><i class="fa fa-check"></i><b>12.2</b> Implementaciones:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/DiegoKoz/intro_ds" target="blank">Repositorio en github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notas de clase del curso de introducción a Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="practica-guiada-3" class="section level2">
<h2><span class="header-section-number">4.2</span> Práctica Guiada</h2>
<div id="caso-practico-graficos-de-ingresos---eph" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Caso práctico: Gráficos de ingresos - EPH</h3>
<p>Para esta práctica utilizaremos las variables de ingresos captadas por la <a href="https://www.indec.gob.ar/indec/web/Institucional-Indec-BasesDeDatos">Encuesta Permanente de Hogares</a></p>
<p>A continuación utilzaremos los conceptos abordados, para realizar gráficos a partir de las variables de ingresos.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb289-1" data-line-number="1"><span class="co">#Cargamos las librerías a utilizar</span></a>
<a class="sourceLine" id="cb289-2" data-line-number="2"></a>
<a class="sourceLine" id="cb289-3" data-line-number="3"><span class="kw">library</span>(tidyverse) <span class="co"># tiene ggplot, dplyr, tidyr, y otros</span></a>
<a class="sourceLine" id="cb289-4" data-line-number="4"><span class="kw">library</span>(ggthemes)  <span class="co"># estilos de gráficos</span></a>
<a class="sourceLine" id="cb289-5" data-line-number="5"><span class="kw">library</span>(ggrepel)   <span class="co"># etiquetas de texto más prolijas que las de ggplot</span></a>
<a class="sourceLine" id="cb289-6" data-line-number="6"><span class="kw">library</span>(scales)</a></code></pre></div>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb290-1" data-line-number="1"></a>
<a class="sourceLine" id="cb290-2" data-line-number="2">Individual_t119 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;fuentes/usu_individual_t119.txt&quot;</span>,</a>
<a class="sourceLine" id="cb290-3" data-line-number="3">                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="histogramas" class="section level4">
<h4><span class="header-section-number">4.2.1.1</span> <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">Histogramas</a></h4>
<p>Por ejemplo, si observamos el ingreso de la ocupación principal:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb291-1" data-line-number="1">hist_data &lt;-Individual_t119 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb291-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) </a>
<a class="sourceLine" id="cb291-3" data-line-number="3"></a>
<a class="sourceLine" id="cb291-4" data-line-number="4"><span class="kw">ggplot</span>(hist_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb291-5" data-line-number="5"><span class="kw">geom_histogram</span>(<span class="dt">fill=</span><span class="st">&#39;salmon&#39;</span>, <span class="dt">color=</span><span class="st">&#39;grey25&#39;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb291-6" data-line-number="6"><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-124-1.png" width="960" /></p>
<p>En este gráfico, los posibles valores de p21 se dividen en 30 <strong>bins</strong> consecutivos y el gráfico muestra cuantas observaciones caen en cada uno de ellos</p>
</div>
<div id="kernels" class="section level4">
<h4><span class="header-section-number">4.2.1.2</span> <a href="https://plot.ly/ggplot2/geom_density/">Kernels</a></h4>
<p>La función <code>geom_density()</code> nos permite construir <strong>kernels</strong> de la distribución. Es particularmente útil cuando tenemos una variable continua, dado que los histogramas rompen esa sensación de continuidad.</p>
<p>Veamos un ejemplo sencillo con los ingresos de la ocupación principal. Luego iremos complejizandolo</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" data-line-number="1">kernel_data &lt;-Individual_t119 <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb292-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) </a>
<a class="sourceLine" id="cb292-3" data-line-number="3"></a>
<a class="sourceLine" id="cb292-4" data-line-number="4"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb292-5" data-line-number="5"><span class="kw">geom_density</span>(<span class="dt">fill=</span><span class="st">&#39;salmon&#39;</span>, <span class="dt">color=</span><span class="st">&#39;grey25&#39;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb292-6" data-line-number="6"><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-125-1.png" width="960" />
<strong>El eje y no tiene demasiada interpretabilidad en los Kernel, porque hace a la forma en que se construyen las distribuciones</strong>.</p>
<p>El parametro adjust, dentro de la función <code>geom_density</code>nos permite reducir o ampliar el rango de suavizado de la distribución. Su valor por default es 1. Veamos que sucede si lo seteamos en 2</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb293-1" data-line-number="1"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb293-2" data-line-number="2"><span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="dv">2</span>,<span class="dt">fill=</span><span class="st">&#39;salmon&#39;</span>, <span class="dt">color=</span><span class="st">&#39;grey25&#39;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb293-3" data-line-number="3"><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-126-1.png" width="960" /></p>
<p>Como es esperable, la distribución del ingreso tiene “picos” en los valores redondos, ya que la gente suele declarar un valor aproximado al ingreso efectivo que percibe. Nadie declara ingresos de 30001. Al suavizar la serie con un kernel, eliminamos ese efecto.Si seteamos el rango para el suavizado en valores menores a 1, podemos observar estos picos.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb294-2" data-line-number="2"><span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="fl">0.01</span>,<span class="dt">fill=</span><span class="st">&#39;salmon&#39;</span>, <span class="dt">color=</span><span class="st">&#39;grey25&#39;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb294-3" data-line-number="3"><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-127-1.png" width="960" /></p>
</div>
<div id="geom-smooth" class="section level4">
<h4><span class="header-section-number">4.2.1.3</span> Geom Smooth</h4>
<p>Para realizar estos gráficos, vamos a modificar un poco los datos:</p>
<ul>
<li>filtramos los ingresos iguales a 0.</li>
<li>eliminamos las no respuestas de nivel educativo y las personas con educación especial.</li>
<li>eliminamos las respuestas de tipo de establecimiento = ‘otros’.</li>
<li>recodificamos las variables para que tengan nombres más sugestivos:
<ul>
<li><strong>Nivel educativo</strong> además la convertimos a factor, porque queremos explicitarle el orden de los valores con <code>levels()</code>. El “\n”&quot; es un <em>caracter especial</em> que permite que el string continúe en la siguiente línea.</li>
<li>Sexo.</li>
<li>Tipo de establecimiento.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb295-1" data-line-number="1">ggdata &lt;-<span class="st"> </span>Individual_t119 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb295-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb295-3" data-line-number="3">         <span class="op">!</span><span class="kw">is.na</span>(NIVEL_ED),</a>
<a class="sourceLine" id="cb295-4" data-line-number="4">         NIVEL_ED<span class="op">!=</span><span class="dv">7</span>, </a>
<a class="sourceLine" id="cb295-5" data-line-number="5">         PP04A <span class="op">!=</span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb295-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">NIVEL_ED =</span> <span class="kw">factor</span>(<span class="kw">case_when</span>(NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">1</span>  <span class="op">~</span><span class="st"> &#39;Primaria </span><span class="ch">\n</span><span class="st"> Incompleta&#39;</span>, <span class="co"># &#39;\n&#39; significa carriage return, o enter</span></a>
<a class="sourceLine" id="cb295-7" data-line-number="7">                                     NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">2</span>  <span class="op">~</span><span class="st"> &#39;Primaria </span><span class="ch">\n</span><span class="st"> Completa&#39;</span>,</a>
<a class="sourceLine" id="cb295-8" data-line-number="8">                                     NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">3</span>  <span class="op">~</span><span class="st"> &#39;Secundaria </span><span class="ch">\n</span><span class="st">Incompleta&#39;</span>,</a>
<a class="sourceLine" id="cb295-9" data-line-number="9">                                     NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">4</span>  <span class="op">~</span><span class="st"> &#39;Secundaria </span><span class="ch">\n</span><span class="st">Completa&#39;</span>,</a>
<a class="sourceLine" id="cb295-10" data-line-number="10">                                     NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">5</span>  <span class="op">~</span><span class="st"> &#39;Superior </span><span class="ch">\n</span><span class="st">Universitaria </span><span class="ch">\n</span><span class="st">Incompleta&#39;</span>,</a>
<a class="sourceLine" id="cb295-11" data-line-number="11">                                     NIVEL_ED <span class="op">==</span><span class="st"> </span><span class="dv">6</span>  <span class="op">~</span><span class="st"> &#39;Superior </span><span class="ch">\n</span><span class="st">Universitaria </span><span class="ch">\n</span><span class="st">Completa&#39;</span>,</a>
<a class="sourceLine" id="cb295-12" data-line-number="12">                                     <span class="ot">FALSE</span>          <span class="op">~</span><span class="st"> &#39;Otro&#39;</span>),</a>
<a class="sourceLine" id="cb295-13" data-line-number="13">                           <span class="dt">levels=</span> <span class="kw">c</span>(<span class="st">&#39;Primaria </span><span class="ch">\n</span><span class="st"> Incompleta&#39;</span>,</a>
<a class="sourceLine" id="cb295-14" data-line-number="14">                                     <span class="st">&#39;Primaria </span><span class="ch">\n</span><span class="st"> Completa&#39;</span>,</a>
<a class="sourceLine" id="cb295-15" data-line-number="15">                                     <span class="st">&#39;Secundaria </span><span class="ch">\n</span><span class="st">Incompleta&#39;</span>,</a>
<a class="sourceLine" id="cb295-16" data-line-number="16">                                     <span class="st">&#39;Secundaria </span><span class="ch">\n</span><span class="st">Completa&#39;</span>,</a>
<a class="sourceLine" id="cb295-17" data-line-number="17">                                     <span class="st">&#39;Superior </span><span class="ch">\n</span><span class="st">Universitaria </span><span class="ch">\n</span><span class="st">Incompleta&#39;</span>,</a>
<a class="sourceLine" id="cb295-18" data-line-number="18">                                     <span class="st">&#39;Superior </span><span class="ch">\n</span><span class="st">Universitaria </span><span class="ch">\n</span><span class="st">Completa&#39;</span>)),</a>
<a class="sourceLine" id="cb295-19" data-line-number="19">         <span class="dt">Sexo     =</span> <span class="kw">case_when</span>(CH04 <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &#39;Varón&#39;,</span></a>
<a class="sourceLine" id="cb295-20" data-line-number="20"><span class="st">                              CH04 == 2 ~ &#39;</span>Mujer<span class="st">&#39;),</span></a>
<a class="sourceLine" id="cb295-21" data-line-number="21"><span class="st">         Establecimiento    = case_when(PP04A == 1 ~ &#39;</span>Estatal<span class="st">&#39;,</span></a>
<a class="sourceLine" id="cb295-22" data-line-number="22"><span class="st">                                        PP04A == 2 ~ &#39;</span>Privado<span class="st">&#39;,</span></a>
<a class="sourceLine" id="cb295-23" data-line-number="23"><span class="st">                                        FALSE      ~ &#39;</span>Otro<span class="st">&#39;))</span></a>
<a class="sourceLine" id="cb295-24" data-line-number="24"></a>
<a class="sourceLine" id="cb295-25" data-line-number="25"><span class="st">ggdata %&gt;% </span></a>
<a class="sourceLine" id="cb295-26" data-line-number="26"><span class="st">  sample_n(10)</span></a></code></pre></div>
<pre><code>##                           CODUSU ANO4 TRIMESTRE NRO_HOGAR COMPONENTE H15
## 1  TQRMNOTYWHLOKMCDEFIAH00600502 2019         1         1          2   1
## 2  TQRMNOTSVHMMKOCDEIOAH00634309 2019         1         1          2   1
## 3  TQRMNOQVTHLMKUCDEGJBF00602085 2019         1         1          2   1
## 4  TQRMNOPYUHLMLQCDEIGED00604015 2019         1         1          3   1
## 5  TQSMNOQQTHKNKRCDEIGED00632450 2019         1         1          1   1
## 6  TQRMNOPTYHMMKMCDEIJAH00633705 2019         1         1          2   1
## 7  TQRMNOQRPHLMKRCDEFNFF00601393 2019         1         1          2   1
## 8  TQRMNOSRVHLOKMCDEHPJB00603826 2019         1         1          2   1
## 9  TQRMNOSPRHMOKNCDEGJBF00630307 2019         1         1          1   1
## 10 TQRMNOPSUHMMKUCDEGPDJ00631320 2019         1         1          2   1
##    REGION MAS_500 AGLOMERADO PONDERA CH03 CH04       CH05 CH06 CH07 CH08
## 1      43       S          2     589    2    2 29/12/1968   50    2    1
## 2      43       N         38      93    2    2 31/12/1970   48    1    1
## 3      43       S         13     570    2    2 18/08/1996   22    1    4
## 4      43       N         30     125    4    1 06/12/1959   59    1    1
## 5      43       N         30     103    1    2 25/03/1983   35    5    1
## 6       1       S         33    1830    2    2 15/01/1971   48    2    1
## 7      41       N          7     256    2    2 26/02/1973   46    2    4
## 8      40       S         29     340    3    1 29/08/1987   31    5    4
## 9      43       S         13     455    1    1 04/06/1973   45    1    4
## 10     40       N         19     148    2    1 07/09/1960   58    1    4
##    CH09 CH10 CH11 CH12 CH13 CH14 CH15 CH15_COD CH16 CH16_COD
## 1     1    2    0    4    1   NA    1       NA    1       NA
## 2     1    2    0    6    2   99    1       NA    1       NA
## 3     1    2    0    5    1   NA    5      222    1       NA
## 4     1    2    0    2    1   NA    2       NA    1       NA
## 5     1    2    0    7    2    1    1       NA    1       NA
## 6     1    2    0    7    2    2    1       NA    1       NA
## 7     1    2    0    4    2    1    3        6    1       NA
## 8     1    1    2    6    2    3    1       NA    1       NA
## 9     1    2    0    2    1   NA    1       NA    1       NA
## 10    1    2    0    4    1   NA    1       NA    1       NA
##                                 NIVEL_ED ESTADO CAT_OCUP CAT_INAC IMPUTA
## 1                  Secundaria \nCompleta      1        3        0      0
## 2  Superior \nUniversitaria \nIncompleta      1        3        0      0
## 3                  Secundaria \nCompleta      1        3        0      0
## 4                   Primaria \n Completa      1        2        0      0
## 5  Superior \nUniversitaria \nIncompleta      1        3        0      0
## 6  Superior \nUniversitaria \nIncompleta      1        3        0      0
## 7                Secundaria \nIncompleta      1        3        0      0
## 8  Superior \nUniversitaria \nIncompleta      1        3        0      0
## 9                   Primaria \n Completa      1        2        0      0
## 10                 Secundaria \nCompleta      1        2        0      0
##    PP02C1 PP02C2 PP02C3 PP02C4 PP02C5 PP02C6 PP02C7 PP02C8 PP02E PP02H
## 1       0      0      0      0      0      0      0      0     0     0
## 2       0      0      0      0      0      0      0      0     0     0
## 3       0      0      0      0      0      0      0      0     0     0
## 4       0      0      0      0      0      0      0      0     0     0
## 5       0      0      0      0      0      0      0      0     0     0
## 6       0      0      0      0      0      0      0      0     0     0
## 7       0      0      0      0      0      0      0      0     0     0
## 8       0      0      0      0      0      0      0      0     0     0
## 9       0      0      0      0      0      0      0      0     0     0
## 10      0      0      0      0      0      0      0      0     0     0
##    PP02I PP03C PP03D PP3E_TOT PP3F_TOT PP03G PP03H PP03I PP03J INTENSI
## 1      0     1     0       48        0     2     0     2     2       3
## 2      0     0     0        0        0     2     0     2     2       4
## 3      0     1     0       45        0     2     0     2     9       2
## 4      0     1     0       18        0     1     1     1     1       1
## 5      0     1     0       30        0     2     0     2     2       2
## 6      0     0     0        0        0     2     0     2     2       4
## 7      0     2     2        9        5     2     0     2     2       2
## 8      0     1     0       45        0     1     1     1     1       2
## 9      0     1     0       42        0     1     1     1     1       2
## 10     0     1     0       24        0     1     1     1     1       1
##    PP04A PP04B_COD PP04B1 PP04B2 PP04B3_MES PP04B3_ANO PP04B3_DIA PP04C
## 1      2      4803      2      0          0          0          0     3
## 2      2      8501      2      0          0          0          0     9
## 3      2      9700      1      1          8          0          0     0
## 4      2      9609      2      0          0          0          0     1
## 5      2      9602      2      0          0          0          0     2
## 6      2      6400      2      0          0          0          0     6
## 7      2      9700      1      2          2          0          0     0
## 8      2      8600      2      0          0          0          0     3
## 9      2      1009      2      0          0          0          0     3
## 10     2      1600      2      0          0          0          0     1
##    PP04C99 PP04D_COD PP04G PP05B2_MES PP05B2_ANO PP05B2_DIA PP05C_1
## 1        0     30314     1          0          0          0       0
## 2        0     20333     1          0          0          0       0
## 3        0     57314     0          0          0          0       0
## 4        0     58112     6          0          0          0       3
## 5        0     57313     1          0          0          0       0
## 6        0     20332     1          0          0          0       0
## 7        0     55314     0          0          0          0       0
## 8        0     40312     8          0          0          0       0
## 9        0     53113     6          0          0          0       1
## 10       0     80113     6          0          0          0       1
##    PP05C_2 PP05C_3 PP05E PP05F PP05H PP06A PP06C PP06D PP06E PP06H PP07A
## 1        0       0     0     0     0     0     0     0     0     0     6
## 2        0       0     0     0     0     0     0     0     0     0     6
## 3        0       0     0     0     0     0     0     0     0     0     0
## 4        3       3     1     7     6     2 16000     0     0     0     0
## 5        0       0     0     0     0     0     0     0     0     0     6
## 6        0       0     0     0     0     0     0     0     0     0     6
## 7        0       0     0     0     0     0     0     0     0     0     0
## 8        0       0     0     0     0     0     0     0     0     0     5
## 9        3       3     1     7     3     1     0  5000     3     1     0
## 10       3       3     1     7     6     2 10000     0     0     0     0
##    PP07C PP07D PP07E PP07F1 PP07F2 PP07F3 PP07F4 PP07F5 PP07G1 PP07G2
## 1      2     0     0      2      2      2      2      5      1      1
## 2      2     0     0      2      2      2      2      5      1      1
## 3      0     0     0      1      2      2      2      0      2      2
## 4      0     0     0      0      0      0      0      0      0      0
## 5      2     0     0      2      2      2      2      5      2      2
## 6      2     0     0      2      2      2      2      5      1      1
## 7      0     0     0      2      2      2      2      5      2      2
## 8      1     9     4      2      2      2      1      0      2      2
## 9      0     0     0      0      0      0      0      0      0      0
## 10     0     0     0      0      0      0      0      0      0      0
##    PP07G3 PP07G4 PP07G_59 PP07H PP07I PP07J PP07K PP08D1 PP08D4 PP08F1
## 1       1      1        0     1     0     1     1  12000      0      0
## 2       1      1        0     1     0     1     1  30000      0      0
## 3       2      2        5     2     2     1     4  10000      0      0
## 4       0      0        0     0     0     0     0      0      0      0
## 5       2      1        0     2     1     1     3  16000      0      0
## 6       1      1        0     1     0     1     1  30000      0      0
## 7       2      2        5     2     2     1     4    900      0      0
## 8       2      2        5     2     2     3     4  10000      0      0
## 9       0      0        0     0     0     0     0      0      0      0
## 10      0      0        0     0     0     0     0      0      0      0
##    PP08F2 PP08J1 PP08J2 PP08J3 PP09A PP09A_ESP PP09B PP09C PP09C_ESP PP10A
## 1       0      0      0      0     0               0     0              NA
## 2       0  15000      0      0     0               0     0              NA
## 3       0      0      0      0     0               0     0              NA
## 4       0      0      0      0     0               0     0              NA
## 5       0      0      0      0     0               0     0              NA
## 6       0      0      0      0     1               0     0              NA
## 7       0      0      0      0     0               1     0              NA
## 8       0      0      0      0     0               0     0              NA
## 9       0      0      0      0     0               0     0              NA
## 10      0      0      0      0     0               0     0              NA
##    PP10C PP10D PP10E PP11A PP11B_COD PP11B1 PP11B2_MES PP11B2_ANO
## 1     NA    NA    NA    NA        NA     NA         NA         NA
## 2     NA    NA    NA    NA        NA     NA         NA         NA
## 3     NA    NA    NA    NA        NA     NA         NA         NA
## 4     NA    NA    NA    NA        NA     NA         NA         NA
## 5     NA    NA    NA    NA        NA     NA         NA         NA
## 6     NA    NA    NA    NA        NA     NA         NA         NA
## 7     NA    NA    NA    NA        NA     NA         NA         NA
## 8     NA    NA    NA    NA        NA     NA         NA         NA
## 9     NA    NA    NA    NA        NA     NA         NA         NA
## 10    NA    NA    NA    NA        NA     NA         NA         NA
##    PP11B2_DIA PP11C PP11C99 PP11D_COD PP11G_ANO PP11G_MES PP11G_DIA PP11L
## 1          NA    NA      NA        NA        NA        NA        NA    NA
## 2          NA    NA      NA        NA        NA        NA        NA    NA
## 3          NA    NA      NA        NA        NA        NA        NA    NA
## 4          NA    NA      NA        NA        NA        NA        NA    NA
## 5          NA    NA      NA        NA        NA        NA        NA    NA
## 6          NA    NA      NA        NA        NA        NA        NA    NA
## 7          NA    NA      NA        NA        NA        NA        NA    NA
## 8          NA    NA      NA        NA        NA        NA        NA    NA
## 9          NA    NA      NA        NA        NA        NA        NA    NA
## 10         NA    NA      NA        NA        NA        NA        NA    NA
##    PP11L1 PP11M PP11N PP11O PP11P PP11Q PP11R PP11S PP11T   P21 DECOCUR
## 1      NA    NA    NA    NA    NA    NA    NA    NA    NA 12000       4
## 2      NA    NA    NA    NA    NA    NA    NA    NA    NA 30000       8
## 3      NA    NA    NA    NA    NA    NA    NA    NA    NA 10000       3
## 4      NA    NA    NA    NA    NA    NA    NA    NA    NA 16000       5
## 5      NA    NA    NA    NA    NA    NA    NA    NA    NA 16000       5
## 6      NA    NA    NA    NA    NA    NA    NA    NA    NA 30000       9
## 7      NA    NA    NA    NA    NA    NA    NA    NA    NA   900       1
## 8      NA    NA    NA    NA    NA    NA    NA    NA    NA 10000       3
## 9      NA    NA    NA    NA    NA    NA    NA    NA    NA  5000       2
## 10     NA    NA    NA    NA    NA    NA    NA    NA    NA 10000       3
##    IDECOCUR RDECOCUR GDECOCUR PDECOCUR ADECOCUR PONDIIO TOT_P12  P47T
## 1         4        4        4       NA        4     694       0 12000
## 2         9        8       NA        9        9     104       0 45000
## 3         4        3        3       NA        3     596       0 10000
## 4         5        5       NA        5        5     180       0 41000
## 5         5        5       NA        5        5     125       0 16000
## 6        NA        8        9       NA        9    2487       0 30000
## 7         1        1       NA        1        1     281    1600  3700
## 8         4        5        3       NA        4     347       0 12600
## 9         2        2        2       NA        2     451       0  5000
## 10        3        4       NA        3        4     147       0 10000
##    DECINDR IDECINDR RDECINDR GDECINDR PDECINDR ADECINDR PONDII V2_M V3_M
## 1        4        4        4        4       NA        4    728    0    0
## 2        9       10       10       NA       10       10    113    0    0
## 3        3        4        3        3       NA        4    592    0    0
## 4        9       10        9       NA       10        9    186    0    0
## 5        5        6        5       NA        6        5    121    0    0
## 6        8       NA        8        8       NA        9   2492    0    0
## 7        1        1        1       NA        1        1    282    0    0
## 8        4        5        6        4       NA        6    352    0    0
## 9        2        2        1        2       NA        2    457    0    0
## 10       3        4        4       NA        4        4    149    0    0
##    V4_M V5_M  V8_M V9_M V10_M V11_M V12_M V18_M V19_AM V21_M  T_VI   ITF
## 1     0    0     0    0     0     0     0     0      0     0     0     0
## 2     0    0     0    0     0     0     0     0      0     0     0 93000
## 3     0    0     0    0     0     0     0     0      0     0     0 55800
## 4     0    0 25000    0     0     0     0     0      0     0 25000     0
## 5     0    0     0    0     0     0     0     0      0     0     0 16000
## 6     0    0     0    0     0     0     0     0      0     0     0 52000
## 7     0    0     0    0     0     0  1200     0      0     0  1200 17700
## 8     0    0     0    0     0  2600     0     0      0     0  2600 33000
## 9     0    0     0    0     0     0     0     0      0     0     0 26200
## 10    0    0     0    0     0     0     0     0      0     0     0 35000
##    DECIFR IDECIFR RDECIFR GDECIFR PDECIFR ADECIFR     IPCF DECCFR IDECCFR
## 1      NA      NA      NA      NA      NA      NA     0.00     NA      NA
## 2      10      10      10      NA      10      10 18600.00      7       8
## 3       8       9       9       8      NA       9  7971.43      3       4
## 4      NA      NA      NA      NA      NA      NA     0.00     NA      NA
## 5       2       3       2      NA       3       2 16000.00      7       7
## 6       8      NA       8       8      NA       8 13000.00      6      NA
## 7       3       3       4      NA       3       3  3540.00      1       1
## 8       6       6       7       6      NA       7 16500.00      7       7
## 9       5       5       5       5      NA       5  5240.00      2       2
## 10      6       6       7      NA       6       7 17500.00      7       8
##    RDECCFR GDECCFR PDECCFR ADECCFR PONDIH  Sexo Establecimiento
## 1       NA      NA      NA      NA      0 Mujer         Privado
## 2        7      NA       8       8    131 Mujer         Privado
## 3        3       3      NA       3    611 Mujer         Privado
## 4       NA      NA      NA      NA      0 Varón         Privado
## 5        7      NA       7       6    134 Mujer         Privado
## 6        5       6      NA       6   2956 Mujer         Privado
## 7        2      NA       1       1    366 Mujer         Privado
## 8        8       7      NA       8    355 Varón         Privado
## 9        2       2      NA       2    458 Varón         Privado
## 10       9      NA       8       9    145 Varón         Privado</code></pre>
<p>Para graficar un suavizado de las series, se utiliza la función <a href="http://ggplot2.tidyverse.org/reference/geom_smooth.html"><code>geom_smooth()</code></a>. Con suavizado nos referimos al gráfico de un modelo realizado sobre los datos, que estima el valor en el punto x,y (para el grupo). Las regresiones lineales son un ejemplo de esto, aunque no el único, ni el que viene por default.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb297-1" data-line-number="1"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(CH06, P21, <span class="dt">colour =</span> Sexo, <span class="dt">shape =</span> Sexo, <span class="dt">alpha =</span> P21))<span class="op">+</span></a>
<a class="sourceLine" id="cb297-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_smooth</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb297-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb297-4" data-line-number="4">    <span class="dt">x =</span> <span class="st">&#39;Edad&#39;</span>,</a>
<a class="sourceLine" id="cb297-5" data-line-number="5">    <span class="dt">y =</span> <span class="st">&#39;ingreso&#39;</span>,</a>
<a class="sourceLine" id="cb297-6" data-line-number="6">    <span class="dt">title =</span> <span class="st">&#39;Ingreso por ocupación principal&#39;</span>,</a>
<a class="sourceLine" id="cb297-7" data-line-number="7">    <span class="dt">subtitle =</span> <span class="st">&#39;Según edad, nivel educativo y sexo&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb297-8" data-line-number="8"><span class="st">  </span><span class="kw">theme_minimal</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb297-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> comma)<span class="op">+</span></a>
<a class="sourceLine" id="cb297-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_alpha</span>(<span class="dt">guide =</span> <span class="ot">FALSE</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb297-11" data-line-number="11"><span class="st">  </span><span class="kw">facet_grid</span>(.<span class="op">~</span>NIVEL_ED)</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-129-1.png" width="768" /></p>
<p>Si corremos el comando <code>geom_smooth()</code> por default, nos advierte que esta utilizando el método GAM, de <a href="https://m-clark.github.io/generalized-additive-models/building_gam.html">general additive models</a>.</p>
<p>el <strong>sombreado gris</strong> que envuelve cada línea es el intervalo de confianza de dicho punto (95% por default).</p>
<p>También podemos utilizar métodos lineales, agregando el parámetro <code>method = 'lm'</code>. Haciendo esto, el gráfico muestra una regresión lineal simple. Si queremos otro tipo de regresión lineal, le podemos explicitar la fórmula.<br />
En el ejemplo siguiente, utilizamos la formula <span class="math inline">\(y = \beta_0 +\beta_1x +\beta_2 x^2\)</span>.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb298-1" data-line-number="1"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(CH06, P21, <span class="dt">colour =</span> Sexo, <span class="dt">weight =</span> PONDIIO)) <span class="op">+</span></a>
<a class="sourceLine" id="cb298-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">formula =</span> y <span class="op">~</span><span class="st"> </span><span class="kw">poly</span>(x, <span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb298-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&#39;Edad&#39;</span>,</a>
<a class="sourceLine" id="cb298-4" data-line-number="4">       <span class="dt">y =</span> <span class="st">&#39;ingreso&#39;</span>,</a>
<a class="sourceLine" id="cb298-5" data-line-number="5">       <span class="dt">title =</span> <span class="st">&#39;Regresion cuadrática del Ingreso por ocupación principal respecto de la Edad&#39;</span>,</a>
<a class="sourceLine" id="cb298-6" data-line-number="6">       <span class="dt">subtitle =</span> <span class="st">&#39;Según Nivel educativo y sexo&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb298-7" data-line-number="7"><span class="st">  </span><span class="kw">theme_minimal</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb298-8" data-line-number="8"><span class="st">  </span><span class="kw">facet_grid</span>(. <span class="op">~</span><span class="st"> </span>NIVEL_ED)</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-130-1.png" width="768" /></p>
<p>Si quisiéramos, además de ver la relación entre ingreso, Edad, Sexo y Nivel educativo, incorporar el tipo de establecimiento,público o privado. Podemos facetear el gráfico por dos variables en lugar de una, lo que crea una <strong>matriz de gráficos</strong> según los cruces.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb299-1" data-line-number="1"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(CH06, P21, <span class="dt">colour =</span> Establecimiento, <span class="dt">weight =</span> PONDIIO)) <span class="op">+</span></a>
<a class="sourceLine" id="cb299-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb299-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb299-4" data-line-number="4">  <span class="dt">x =</span> <span class="st">&#39;Edad&#39;</span>,</a>
<a class="sourceLine" id="cb299-5" data-line-number="5">  <span class="dt">y =</span> <span class="st">&#39;ingreso&#39;</span>,</a>
<a class="sourceLine" id="cb299-6" data-line-number="6">  <span class="dt">title =</span> <span class="st">&#39;Tendencia del ingreso por ocupación principal&#39;</span>,</a>
<a class="sourceLine" id="cb299-7" data-line-number="7">  <span class="dt">subtitle =</span> <span class="st">&#39;Según edad, nivel educativo, sexo y tipo de establecimiento&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb299-8" data-line-number="8"><span class="st">  </span><span class="kw">theme_minimal</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb299-9" data-line-number="9"><span class="st">  </span><span class="kw">facet_grid</span>(Sexo <span class="op">~</span><span class="st"> </span>NIVEL_ED)</a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-131-1.png" width="768" /></p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb300-1" data-line-number="1"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="kw">paste0</span>(<span class="st">&quot;resultados/&quot;</span>, <span class="st">&quot;regresion lineal.png&quot;</span>),<span class="dt">scale =</span> <span class="dv">2</span>)</a></code></pre></div>
</div>
<div id="treemaps-bonus-track" class="section level4">
<h4><span class="header-section-number">4.2.1.4</span> Treemaps (bonus track)</h4>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb301-1" data-line-number="1"><span class="kw">library</span>(treemapify)</a></code></pre></div>
<p><a href="https://data.buenosaires.gob.ar/dataset/trabajo-domestico-no-remunerado">Trabajo doméstico no remunerado</a></p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb302-1" data-line-number="1">trabajo_no_remunerado &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&#39;fuentes/prom_t_simul_dom_16_sexo__annio__g_edad_limpio.csv&#39;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1"> trabajo_no_remunerado <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb303-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(sexo <span class="op">!=</span><span class="st"> &#39;TOTAL&#39;</span>, grupo_edad <span class="op">!=</span><span class="st"> &#39;TOTAL&#39;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb303-3" data-line-number="3"><span class="st">   </span><span class="kw">mutate</span>(<span class="dt">promedio_hs_diarias =</span> <span class="kw">as.numeric</span>(promedio_hs_diarias),</a>
<a class="sourceLine" id="cb303-4" data-line-number="4">          <span class="dt">sexo =</span> <span class="kw">case_when</span>(sexo<span class="op">==</span><span class="st">&#39;m&#39;</span><span class="op">~</span><span class="st">&#39;Mujer&#39;</span>,</a>
<a class="sourceLine" id="cb303-5" data-line-number="5">                           sexo<span class="op">==</span><span class="st">&#39;v&#39;</span><span class="op">~</span><span class="st">&#39;Varón&#39;)) %&gt;% </span></a>
<a class="sourceLine" id="cb303-6" data-line-number="6"><span class="st">  ggplot(., aes(area = promedio_hs_diarias, fill = promedio_hs_diarias, label = grupo_edad,</span></a>
<a class="sourceLine" id="cb303-7" data-line-number="7"><span class="st">                subgroup = sexo)) +</span></a>
<a class="sourceLine" id="cb303-8" data-line-number="8"><span class="st">  geom_treemap() +</span></a>
<a class="sourceLine" id="cb303-9" data-line-number="9"><span class="st">  geom_treemap_subgroup_border() +</span></a>
<a class="sourceLine" id="cb303-10" data-line-number="10"><span class="st">  geom_treemap_subgroup_text(place = &quot;centre&quot;, grow = T, alpha = 0.5, colour =</span></a>
<a class="sourceLine" id="cb303-11" data-line-number="11"><span class="st">                             &quot;black&quot;, fontface = &quot;italic&quot;, min.size = 0) +</span></a>
<a class="sourceLine" id="cb303-12" data-line-number="12"><span class="st">  geom_treemap_text(colour = &quot;white&quot;, place = &quot;topleft&quot;, reflow = T)+</span></a>
<a class="sourceLine" id="cb303-13" data-line-number="13"><span class="st">  theme(legend.position = &#39;</span>none<span class="st">&#39;)</span></a></code></pre></div>
<p><img src="bookdown_files/figure-html/unnamed-chunk-134-1.png" width="960" /></p>

</div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="explicacion-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="documentacion-en-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
