<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>2.1 Explicación | Notas de clase del curso de introducción a Data Science</title>
  <meta name="description" content="desarrollado para el Min. de Transporte (Argentina)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="2.1 Explicación | Notas de clase del curso de introducción a Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.1 Explicación | Notas de clase del curso de introducción a Data Science" />
  
  <meta name="twitter:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

<meta name="author" content="Diego Kozlowski y Natsumi Shokida">


<meta name="date" content="2019-09-19">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="tidyverse.html">
<link rel="next" href="practica-guiada-1.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introducción</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#presentacion"><i class="fa fa-check"></i>Presentación</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objetivos-del-curso"><i class="fa fa-check"></i>Objetivos del curso</a></li>
<li><a href="index.html#webpage"><span>Webpage</span></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#temario"><i class="fa fa-check"></i>Temario:</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bibliografia-de-consulta"><i class="fa fa-check"></i>Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html"><i class="fa fa-check"></i><b>1</b> Introducción a R</a><ul>
<li class="chapter" data-level="1.1" data-path="explicacion.html"><a href="explicacion.html"><i class="fa fa-check"></i><b>1.1</b> Explicación</a><ul>
<li class="chapter" data-level="1.1.1" data-path="explicacion.html"><a href="explicacion.html#que-es-r"><i class="fa fa-check"></i><b>1.1.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="explicacion.html"><a href="explicacion.html#logica-sintactica."><i class="fa fa-check"></i><b>1.1.2</b> Lógica sintáctica.</a></li>
<li class="chapter" data-level="1.1.3" data-path="explicacion.html"><a href="explicacion.html#r-base"><i class="fa fa-check"></i><b>1.1.3</b> R base</a></li>
<li class="chapter" data-level="1.1.4" data-path="explicacion.html"><a href="explicacion.html#objetos"><i class="fa fa-check"></i><b>1.1.4</b> Objetos:</a></li>
<li class="chapter" data-level="1.1.5" data-path="explicacion.html"><a href="explicacion.html#data-frames"><i class="fa fa-check"></i><b>1.1.5</b> Data Frames</a></li>
<li class="chapter" data-level="1.1.6" data-path="explicacion.html"><a href="explicacion.html#listas"><i class="fa fa-check"></i><b>1.1.6</b> Listas</a></li>
<li class="chapter" data-level="1.1.7" data-path="explicacion.html"><a href="explicacion.html#ambientes-de-trabajo"><i class="fa fa-check"></i><b>1.1.7</b> Ambientes de trabajo</a></li>
<li class="chapter" data-level="1.1.8" data-path="explicacion.html"><a href="explicacion.html#tipos-de-archivos-de-r"><i class="fa fa-check"></i><b>1.1.8</b> Tipos de archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="practica-guiada.html"><a href="practica-guiada.html"><i class="fa fa-check"></i><b>1.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="1.2.1" data-path="practica-guiada.html"><a href="practica-guiada.html#instalacion-de-paquetes-complementarios-al-r-base"><i class="fa fa-check"></i><b>1.2.1</b> Instalación de paquetes complementarios al R Base</a></li>
<li class="chapter" data-level="1.2.2" data-path="practica-guiada.html"><a href="practica-guiada.html#lectura-y-escritura-de-archivos"><i class="fa fa-check"></i><b>1.2.2</b> Lectura y escritura de archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>2</b> Tidyverse</a><ul>
<li class="chapter" data-level="2.1" data-path="explicacion-1.html"><a href="explicacion-1.html"><i class="fa fa-check"></i><b>2.1</b> Explicación</a><ul>
<li class="chapter" data-level="2.1.1" data-path="explicacion-1.html"><a href="explicacion-1.html#dplyr"><i class="fa fa-check"></i><b>2.1.1</b> Dplyr</a></li>
<li class="chapter" data-level="2.1.2" data-path="explicacion-1.html"><a href="explicacion-1.html#joins"><i class="fa fa-check"></i><b>2.1.2</b> Joins</a></li>
<li class="chapter" data-level="2.1.3" data-path="explicacion-1.html"><a href="explicacion-1.html#tidyr"><i class="fa fa-check"></i><b>2.1.3</b> Tidyr</a></li>
<li class="chapter" data-level="2.1.4" data-path="explicacion-1.html"><a href="explicacion-1.html#lubridate"><i class="fa fa-check"></i><b>2.1.4</b> Lubridate</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html"><i class="fa fa-check"></i><b>2.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="2.2.1" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-1"><i class="fa fa-check"></i><b>2.2.1</b> Ejemplo 1</a></li>
<li class="chapter" data-level="2.2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-2"><i class="fa fa-check"></i><b>2.2.2</b> Ejemplo 2</a></li>
<li class="chapter" data-level="2.2.3" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-3"><i class="fa fa-check"></i><b>2.2.3</b> Ejemplo 3</a></li>
<li class="chapter" data-level="2.2.4" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-4"><i class="fa fa-check"></i><b>2.2.4</b> Ejemplo 4</a></li>
<li class="chapter" data-level="2.2.5" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-5"><i class="fa fa-check"></i><b>2.2.5</b> Ejemplo 5</a></li>
<li class="chapter" data-level="2.2.6" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#ejemplo-6"><i class="fa fa-check"></i><b>2.2.6</b> Ejemplo 6</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="programacion-funcional.html"><a href="programacion-funcional.html"><i class="fa fa-check"></i><b>3</b> Programacion Funcional</a><ul>
<li class="chapter" data-level="3.1" data-path="explicacion-2.html"><a href="explicacion-2.html"><i class="fa fa-check"></i><b>3.1</b> Explicación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="explicacion-2.html"><a href="explicacion-2.html#loops"><i class="fa fa-check"></i><b>3.1.1</b> Loops</a></li>
<li class="chapter" data-level="3.1.2" data-path="explicacion-2.html"><a href="explicacion-2.html#estructuras-condicionales"><i class="fa fa-check"></i><b>3.1.2</b> Estructuras Condicionales</a></li>
<li class="chapter" data-level="3.1.3" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-1"><i class="fa fa-check"></i><b>3.1.3</b> Funciones</a></li>
<li class="chapter" data-level="3.1.4" data-path="explicacion-2.html"><a href="explicacion-2.html#purrr"><i class="fa fa-check"></i><b>3.1.4</b> PURRR</a></li>
<li class="chapter" data-level="3.1.5" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-implicitas"><i class="fa fa-check"></i><b>3.1.5</b> Funciones implícitas</a></li>
<li class="chapter" data-level="3.1.6" data-path="explicacion-2.html"><a href="explicacion-2.html#funciones-lambda"><i class="fa fa-check"></i><b>3.1.6</b> Funciones lambda</a></li>
<li class="chapter" data-level="3.1.7" data-path="explicacion-2.html"><a href="explicacion-2.html#walk"><i class="fa fa-check"></i><b>3.1.7</b> Walk</a></li>
<li class="chapter" data-level="3.1.8" data-path="explicacion-2.html"><a href="explicacion-2.html#cuando-usar-estas-herramientas"><i class="fa fa-check"></i><b>3.1.8</b> Cuando usar estas herramientas?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html"><i class="fa fa-check"></i><b>3.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="3.2.1" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-1-iterando-en-la-eph"><i class="fa fa-check"></i><b>3.2.1</b> Ejemplo 1: Iterando en la EPH</a></li>
<li class="chapter" data-level="3.2.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-2.-regresion-lineal"><i class="fa fa-check"></i><b>3.2.2</b> Ejemplo 2. Regresión lineal</a></li>
<li class="chapter" data-level="3.2.3" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#ejemplo-3-graficos-en-serie"><i class="fa fa-check"></i><b>3.2.3</b> Ejemplo 3: Gráficos en serie</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizacion-de-la-informacion.html"><a href="visualizacion-de-la-informacion.html"><i class="fa fa-check"></i><b>4</b> Visualización de la información</a><ul>
<li class="chapter" data-level="4.1" data-path="explicacion-3.html"><a href="explicacion-3.html"><i class="fa fa-check"></i><b>4.1</b> Explicación</a><ul>
<li class="chapter" data-level="4.1.1" data-path="explicacion-3.html"><a href="explicacion-3.html#graficos-basicos-en-r"><i class="fa fa-check"></i><b>4.1.1</b> Gráficos Básicos en R</a></li>
<li class="chapter" data-level="4.1.2" data-path="explicacion-3.html"><a href="explicacion-3.html#ggplot2"><i class="fa fa-check"></i><b>4.1.2</b> <span>Ggplot2</span></a></li>
<li class="chapter" data-level="4.1.3" data-path="explicacion-3.html"><a href="explicacion-3.html#ejemplo-con-datos-reales"><i class="fa fa-check"></i><b>4.1.3</b> Ejemplo con datos reales</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html"><i class="fa fa-check"></i><b>4.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="4.2.1" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html#caso-practico-graficos-de-ingresos---eph"><i class="fa fa-check"></i><b>4.2.1</b> Caso práctico: Gráficos de ingresos - EPH</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="documentacion-en-r.html"><a href="documentacion-en-r.html"><i class="fa fa-check"></i><b>5</b> Documentación en R</a><ul>
<li class="chapter" data-level="5.1" data-path="explicacion-4.html"><a href="explicacion-4.html"><i class="fa fa-check"></i><b>5.1</b> Explicación</a><ul>
<li class="chapter" data-level="5.1.1" data-path="explicacion-4.html"><a href="explicacion-4.html#r-markdown-introduccion"><i class="fa fa-check"></i><b>5.1.1</b> R Markdown: Introducción</a></li>
<li class="chapter" data-level="5.1.2" data-path="explicacion-4.html"><a href="explicacion-4.html#requisitos"><i class="fa fa-check"></i><b>5.1.2</b> Requisitos</a></li>
<li class="chapter" data-level="5.1.3" data-path="explicacion-4.html"><a href="explicacion-4.html#markdown-basico"><i class="fa fa-check"></i><b>5.1.3</b> Markdown básico</a></li>
<li class="chapter" data-level="5.1.4" data-path="explicacion-4.html"><a href="explicacion-4.html#formateo-de-texto"><i class="fa fa-check"></i><b>5.1.4</b> Formateo de texto</a></li>
<li class="chapter" data-level="5.1.5" data-path="explicacion-4.html"><a href="explicacion-4.html#bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.5</b> Bloques de código</a></li>
<li class="chapter" data-level="5.1.6" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-en-los-bloques-de-codigo"><i class="fa fa-check"></i><b>5.1.6</b> Opciones en los bloques de código</a></li>
<li class="chapter" data-level="5.1.7" data-path="explicacion-4.html"><a href="explicacion-4.html#tablas"><i class="fa fa-check"></i><b>5.1.7</b> Tablas</a></li>
<li class="chapter" data-level="5.1.8" data-path="explicacion-4.html"><a href="explicacion-4.html#opciones-globales"><i class="fa fa-check"></i><b>5.1.8</b> Opciones globales</a></li>
<li class="chapter" data-level="5.1.9" data-path="explicacion-4.html"><a href="explicacion-4.html#codigo-en-la-linea"><i class="fa fa-check"></i><b>5.1.9</b> Código en la línea</a></li>
<li class="chapter" data-level="5.1.10" data-path="explicacion-4.html"><a href="explicacion-4.html#formatos"><i class="fa fa-check"></i><b>5.1.10</b> Formatos</a></li>
<li class="chapter" data-level="5.1.11" data-path="explicacion-4.html"><a href="explicacion-4.html#otros-formatos"><i class="fa fa-check"></i><b>5.1.11</b> Otros formatos</a></li>
<li class="chapter" data-level="5.1.12" data-path="explicacion-4.html"><a href="explicacion-4.html#notebooks"><i class="fa fa-check"></i><b>5.1.12</b> Notebooks</a></li>
<li class="chapter" data-level="5.1.13" data-path="explicacion-4.html"><a href="explicacion-4.html#publicar"><i class="fa fa-check"></i><b>5.1.13</b> Publicar</a></li>
<li class="chapter" data-level="5.1.14" data-path="explicacion-4.html"><a href="explicacion-4.html#flexdashboard"><i class="fa fa-check"></i><b>5.1.14</b> FlexDashboard</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html"><i class="fa fa-check"></i><b>5.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="5.2.1" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#introduccion-1"><i class="fa fa-check"></i><b>5.2.1</b> Introducción</a></li>
<li class="chapter" data-level="5.2.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html#explorando-los-datos"><i class="fa fa-check"></i><b>5.2.2</b> Explorando los datos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>6</b> Shiny apps</a><ul>
<li class="chapter" data-level="6.1" data-path="explicacion-5.html"><a href="explicacion-5.html"><i class="fa fa-check"></i><b>6.1</b> Explicación</a><ul>
<li class="chapter" data-level="6.1.1" data-path="explicacion-5.html"><a href="explicacion-5.html#que-es-un-shiny-app"><i class="fa fa-check"></i><b>6.1.1</b> ¿Qué es un shiny app?</a></li>
<li class="chapter" data-level="6.1.2" data-path="explicacion-5.html"><a href="explicacion-5.html#galeria-de-ejemplos"><i class="fa fa-check"></i><b>6.1.2</b> Galería de ejemplos</a></li>
<li class="chapter" data-level="6.1.3" data-path="explicacion-5.html"><a href="explicacion-5.html#componentes-fundamentales-de-un-shiny-app"><i class="fa fa-check"></i><b>6.1.3</b> Componentes fundamentales de un Shiny app</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html"><i class="fa fa-check"></i><b>6.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="6.2.1" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-2.-gapminder"><i class="fa fa-check"></i><b>6.2.1</b> Ejemplo 2. Gapminder</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="probabilidad-y-estadistica.html"><a href="probabilidad-y-estadistica.html"><i class="fa fa-check"></i><b>7</b> Probabilidad y Estadística</a><ul>
<li class="chapter" data-level="7.1" data-path="explicacion-6.html"><a href="explicacion-6.html"><i class="fa fa-check"></i><b>7.1</b> Explicación</a><ul>
<li class="chapter" data-level="7.1.1" data-path="explicacion-6.html"><a href="explicacion-6.html#probabilidad"><i class="fa fa-check"></i><b>7.1.1</b> Probabilidad</a></li>
<li class="chapter" data-level="7.1.2" data-path="explicacion-6.html"><a href="explicacion-6.html#estadistica"><i class="fa fa-check"></i><b>7.1.2</b> Estadística</a></li>
<li class="chapter" data-level="7.1.3" data-path="explicacion-6.html"><a href="explicacion-6.html#algunos-estimadores-importantes"><i class="fa fa-check"></i><b>7.1.3</b> Algunos estimadores importantes</a></li>
<li class="chapter" data-level="7.1.4" data-path="explicacion-6.html"><a href="explicacion-6.html#graficos-estadisticos"><i class="fa fa-check"></i><b>7.1.4</b> Gráficos estadísticos</a></li>
<li class="chapter" data-level="7.1.5" data-path="explicacion-6.html"><a href="explicacion-6.html#bibliografia-de-consulta-1"><i class="fa fa-check"></i><b>7.1.5</b> Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html"><i class="fa fa-check"></i><b>7.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="7.2.1" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#generacion-de-datos-aleatorios"><i class="fa fa-check"></i><b>7.2.1</b> Generación de datos aleatorios</a></li>
<li class="chapter" data-level="7.2.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#tests"><i class="fa fa-check"></i><b>7.2.2</b> Tests</a></li>
<li class="chapter" data-level="7.2.3" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#descripcion-estadistica-de-los-datos"><i class="fa fa-check"></i><b>7.2.3</b> Descripción estadística de los datos</a></li>
<li class="chapter" data-level="7.2.4" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#graficos-estadisticos-1"><i class="fa fa-check"></i><b>7.2.4</b> Gráficos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modelo-lineal.html"><a href="modelo-lineal.html"><i class="fa fa-check"></i><b>8</b> Modelo Lineal</a><ul>
<li class="chapter" data-level="8.1" data-path="explicacion-7.html"><a href="explicacion-7.html"><i class="fa fa-check"></i><b>8.1</b> Explicación</a><ul>
<li class="chapter" data-level="8.1.1" data-path="explicacion-7.html"><a href="explicacion-7.html#covarianza-y-correlacion."><i class="fa fa-check"></i><b>8.1.1</b> Covarianza y Correlación.</a></li>
<li class="chapter" data-level="8.1.2" data-path="explicacion-7.html"><a href="explicacion-7.html#modelo-lineal-1"><i class="fa fa-check"></i><b>8.1.2</b> Modelo Lineal</a></li>
<li class="chapter" data-level="8.1.3" data-path="explicacion-7.html"><a href="explicacion-7.html#regresion-lineal-multiple"><i class="fa fa-check"></i><b>8.1.3</b> Regresión lineal múltiple</a></li>
<li class="chapter" data-level="8.1.4" data-path="explicacion-7.html"><a href="explicacion-7.html#para-profundizar"><i class="fa fa-check"></i><b>8.1.4</b> Para profundizar</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html"><i class="fa fa-check"></i><b>8.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="8.2.1" data-path="practica-guiada-7.html"><a href="practica-guiada-7.html#datos-de-properati"><i class="fa fa-check"></i><b>8.2.1</b> Datos de Properati</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="diseno-y-analisis-de-encuestas.html"><a href="diseno-y-analisis-de-encuestas.html"><i class="fa fa-check"></i><b>9</b> Diseño y análisis de encuestas</a><ul>
<li class="chapter" data-level="9.1" data-path="explicacion-8.html"><a href="explicacion-8.html"><i class="fa fa-check"></i><b>9.1</b> Explicación</a></li>
<li class="chapter" data-level="9.2" data-path="practica-guiada-8.html"><a href="practica-guiada-8.html"><i class="fa fa-check"></i><b>9.2</b> Práctica Guiada</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/DiegoKoz/intro_ds" target="blank">Repositorio en github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notas de clase del curso de introducción a Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="explicacion-1" class="section level2">
<h2><span class="header-section-number">2.1</span> Explicación</h2>
<p>A lo largo de esta clase, trabajaremos con el paquete <a href="https://www.tidyverse.org/"><strong>tidyverse</strong></a>. El mismo agrupa una serie de paquetes que tienen una misma lógica en su diseño y por ende funcionan en armonía.<br />
Entre ellos, usaremos principalmente <strong>dplyr</strong> y <strong>tidyr</strong> para realizar transformaciones sobre nuestro set de datos. En una futura clase utilizaremos <strong>ggplot</strong> para realizar gráficos.</p>
<p>A continuación cargamos la librería a nuestro ambiente. Para ello debe estar previamente instalada en nuestra pc.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)</code></pre>
<p>Para mostrar el funcionamiento básico de tidyverse utilizaremos a modo de ejemplo datos del <a href="https://www.indec.gob.ar/uploads/informesdeprensa/mercado_trabajo_eph_1trim19B489ACCDF9.pdf">Informe de Mercado de Trabajo del INDEC</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r">INDICADOR &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Tasa de Actividad&quot;</span>, <span class="st">&quot;Tasa de Empleo&quot;</span>, <span class="st">&quot;Tasa de Desocupación&quot;,</span>
<span class="st">               &quot;</span>Tasa de Actividad<span class="st">&quot;, &quot;</span>Tasa de Empleo<span class="st">&quot;, &quot;</span>Tasa de Desocupación&quot;,
               <span class="st">&quot;Tasa de Actividad&quot;</span>, <span class="st">&quot;Tasa de Empleo&quot;</span>, <span class="st">&quot;Tasa de Desocupación&quot;)</span>

<span class="st">FECHA &lt;-     c(&quot;</span><span class="fl">2018.3</span>T<span class="st">&quot;, &quot;</span><span class="fl">2018.3</span>T<span class="st">&quot;, &quot;</span><span class="fl">2018.3</span>T<span class="st">&quot;,</span>
<span class="st">               &quot;</span><span class="fl">2018.4</span>T<span class="st">&quot;, &quot;</span><span class="fl">2018.4</span>T<span class="st">&quot;, &quot;</span><span class="fl">2018.4</span>T<span class="st">&quot;,</span>
<span class="st">               &quot;</span><span class="fl">2019.1</span>T<span class="st">&quot;, &quot;</span><span class="fl">2019.1</span>T<span class="st">&quot;, &quot;</span><span class="fl">2019.1</span>T<span class="st">&quot;)</span>

<span class="st">TASA &lt;-      c(46.7, 42.5, 9,</span>
<span class="st">               46.5, 42.2, 9.1, </span>
<span class="st">               47,   42.3, 10.1)</span>

<span class="st">Datos &lt;- data.frame(INDICADOR, FECHA, TASA)</span>
<span class="st">Datos</span></code></pre>
<pre><code>##              INDICADOR   FECHA TASA
## 1    Tasa de Actividad 2018.3T 46.7
## 2       Tasa de Empleo 2018.3T 42.5
## 3 Tasa de Desocupación 2018.3T  9.0
## 4    Tasa de Actividad 2018.4T 46.5
## 5       Tasa de Empleo 2018.4T 42.2
## 6 Tasa de Desocupación 2018.4T  9.1
## 7    Tasa de Actividad 2019.1T 47.0
## 8       Tasa de Empleo 2019.1T 42.3
## 9 Tasa de Desocupación 2019.1T 10.1</code></pre>
<div id="dplyr" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Dplyr</h3>
<p>El caracter principal para utilizar este paquete es <code>%&gt;%</code> , <em>pipe</em> (de tubería).</p>
<p>Los <code>%&gt;%</code> toman el set de datos a su izquierda, y los transforman mediante los comandos a su derecha, en los cuales los elementos de la izquierda están implícitos. En otros términos:</p>
<p><span class="math inline">\(f(x,y)\)</span> es equivalente a <span class="math inline">\(x\)</span> %&gt;% <span class="math inline">\(f(.,y)\)</span></p>
<p>Veamos las principales funciones que pueden utilizarse con la lógica de este paquete:</p>
<div id="glimpse" class="section level4">
<h4><span class="header-section-number">2.1.1.1</span> glimpse</h4>
<p>Permite ver la estructura de la tabla. Nos muestra:</p>
<ul>
<li>número de filas</li>
<li>número de columnas</li>
<li>nombre de las columnas</li>
<li>tipo de dato de cada columna</li>
<li>las primeras observaciones de la tabla</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(Datos)</code></pre>
<p><img src="img/glimpse.png" /></p>
</div>
<div id="filter" class="section level4">
<h4><span class="header-section-number">2.1.1.2</span> filter</h4>
<p>Permite filtrar la tabla de acuerdo al cumplimiento de condiciones lógicas.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(TASA <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span> , INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Desocupación&quot;)</span></code></pre>
<pre><code>##              INDICADOR   FECHA TASA
## 1 Tasa de Desocupación 2019.1T 10.1</code></pre>
<p>Nótese que en este caso al separar con una <strong>,</strong> las condiciones se exige el cumplimiento de ambas. En caso de desear que se cumpla alguna de las condiciones debe utilizarse el caracter <strong>|</strong>.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(TASA <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span> <span class="op">|</span><span class="st"> </span>INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Desocupación&quot;)</span></code></pre>
<pre><code>##              INDICADOR   FECHA TASA
## 1    Tasa de Actividad 2018.3T 46.7
## 2       Tasa de Empleo 2018.3T 42.5
## 3 Tasa de Desocupación 2018.3T  9.0
## 4    Tasa de Actividad 2018.4T 46.5
## 5       Tasa de Empleo 2018.4T 42.2
## 6 Tasa de Desocupación 2018.4T  9.1
## 7    Tasa de Actividad 2019.1T 47.0
## 8       Tasa de Empleo 2019.1T 42.3
## 9 Tasa de Desocupación 2019.1T 10.1</code></pre>
</div>
<div id="rename" class="section level4">
<h4><span class="header-section-number">2.1.1.3</span> rename</h4>
<p>Permite renombrar una columna de la tabla. Funciona de la siguiente manera:</p>
<p><code>Data %&gt;% rename(nuevo_nombre = viejo_nombre)</code></p>
<pre class="sourceCode r"><code class="sourceCode r">Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">Periodo =</span> FECHA)</code></pre>
<pre><code>##              INDICADOR Periodo TASA
## 1    Tasa de Actividad 2018.3T 46.7
## 2       Tasa de Empleo 2018.3T 42.5
## 3 Tasa de Desocupación 2018.3T  9.0
## 4    Tasa de Actividad 2018.4T 46.5
## 5       Tasa de Empleo 2018.4T 42.2
## 6 Tasa de Desocupación 2018.4T  9.1
## 7    Tasa de Actividad 2019.1T 47.0
## 8       Tasa de Empleo 2019.1T 42.3
## 9 Tasa de Desocupación 2019.1T 10.1</code></pre>
<p>Nótese que, a diferencia del ejemplo de la función <strong>filter</strong> donde utilizábamos <strong>==</strong> para comprobar una condición lógica, en este caso se utiliza sólo un <strong>=</strong> ya que lo estamos haciendo es <em>asignar</em> un nombre.</p>
</div>
<div id="mutate" class="section level4">
<h4><span class="header-section-number">2.1.1.4</span> mutate</h4>
<p>Permite agregar una variable a la tabla (especificando el nombre que tomará ésta), que puede ser el resultado de operaciones sobre otras variables de la misma tabla.</p>
<p>En caso de especificar el nombre de una columna existente, el resultado de la operación realizada “sobre-escribirá” la información de la columna con dicho nombre.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">PROPORCION =</span> TASA <span class="op">/</span><span class="st"> </span><span class="dv">100</span>)

Datos</code></pre>
<pre><code>##              INDICADOR   FECHA TASA PROPORCION
## 1    Tasa de Actividad 2018.3T 46.7      0.467
## 2       Tasa de Empleo 2018.3T 42.5      0.425
## 3 Tasa de Desocupación 2018.3T  9.0      0.090
## 4    Tasa de Actividad 2018.4T 46.5      0.465
## 5       Tasa de Empleo 2018.4T 42.2      0.422
## 6 Tasa de Desocupación 2018.4T  9.1      0.091
## 7    Tasa de Actividad 2019.1T 47.0      0.470
## 8       Tasa de Empleo 2019.1T 42.3      0.423
## 9 Tasa de Desocupación 2019.1T 10.1      0.101</code></pre>
</div>
<div id="case_when" class="section level4">
<h4><span class="header-section-number">2.1.1.5</span> case_when</h4>
<p>Permite definir una variable, de forma tal que tome un valor particular para cada condición establecida. En caso de no cumplir con ninguna de las condiciones establecidas, la variable tomará valor <strong>NA</strong>.<br />
La sintaxis de la función es:<br />
<code>case_when(condicion lógica1 ~ valor asignado1)</code></p>
<pre class="sourceCode r"><code class="sourceCode r">Datos &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">CODIGO =</span> <span class="kw">case_when</span>(INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Actividad&quot;</span>    <span class="op">~</span><span class="st"> &quot;ACT&quot;</span>,
                            INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Empleo&quot;</span>       <span class="op">~</span><span class="st"> &quot;EMP&quot;</span>,
                            INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Desocupación&quot; ~ &quot;</span>DES<span class="st">&quot;))</span>

<span class="st">Datos</span></code></pre>
<pre><code>##              INDICADOR   FECHA TASA PROPORCION CODIGO
## 1    Tasa de Actividad 2018.3T 46.7      0.467    ACT
## 2       Tasa de Empleo 2018.3T 42.5      0.425    EMP
## 3 Tasa de Desocupación 2018.3T  9.0      0.090    DES
## 4    Tasa de Actividad 2018.4T 46.5      0.465    ACT
## 5       Tasa de Empleo 2018.4T 42.2      0.422    EMP
## 6 Tasa de Desocupación 2018.4T  9.1      0.091    DES
## 7    Tasa de Actividad 2019.1T 47.0      0.470    ACT
## 8       Tasa de Empleo 2019.1T 42.3      0.423    EMP
## 9 Tasa de Desocupación 2019.1T 10.1      0.101    DES</code></pre>
<p>Si querémos asignar un valor a todo lo que no cumple ningúna de las condiciones anteriores, podemos poner <code>TRUE ~ valor</code></p>
</div>
<div id="select" class="section level4">
<h4><span class="header-section-number">2.1.1.6</span> select</h4>
<p>Permite especificar la serie de columnas que se desea conservar de un DataFrame. También pueden especificarse las columnas que se desean descartar (agregándoles un <em>-</em> adelante). Muy útil para agilizar el trabajo en bases de datos de gran tamaño.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos2 &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(CODIGO, FECHA, PROPORCION)
Datos2</code></pre>
<pre><code>##   CODIGO   FECHA PROPORCION
## 1    ACT 2018.3T      0.467
## 2    EMP 2018.3T      0.425
## 3    DES 2018.3T      0.090
## 4    ACT 2018.4T      0.465
## 5    EMP 2018.4T      0.422
## 6    DES 2018.4T      0.091
## 7    ACT 2019.1T      0.470
## 8    EMP 2019.1T      0.423
## 9    DES 2019.1T      0.101</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">Datos &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(<span class="op">-</span><span class="kw">c</span>(PROPORCION, CODIGO))
Datos</code></pre>
<pre><code>##              INDICADOR   FECHA TASA
## 1    Tasa de Actividad 2018.3T 46.7
## 2       Tasa de Empleo 2018.3T 42.5
## 3 Tasa de Desocupación 2018.3T  9.0
## 4    Tasa de Actividad 2018.4T 46.5
## 5       Tasa de Empleo 2018.4T 42.2
## 6 Tasa de Desocupación 2018.4T  9.1
## 7    Tasa de Actividad 2019.1T 47.0
## 8       Tasa de Empleo 2019.1T 42.3
## 9 Tasa de Desocupación 2019.1T 10.1</code></pre>
</div>
<div id="arrange" class="section level4">
<h4><span class="header-section-number">2.1.1.7</span> arrange</h4>
<p>Permite ordenar la tabla según los valores de determinada/s variable/s. Es útil cuando luego deben hacerse otras operaciones que requieran del ordenamiento de la tabla, o para mostrar resultados de forma ordenada.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(INDICADOR, FECHA)

Datos</code></pre>
<pre><code>##              INDICADOR   FECHA TASA
## 1    Tasa de Actividad 2018.3T 46.7
## 2    Tasa de Actividad 2018.4T 46.5
## 3    Tasa de Actividad 2019.1T 47.0
## 4 Tasa de Desocupación 2018.3T  9.0
## 5 Tasa de Desocupación 2018.4T  9.1
## 6 Tasa de Desocupación 2019.1T 10.1
## 7       Tasa de Empleo 2018.3T 42.5
## 8       Tasa de Empleo 2018.4T 42.2
## 9       Tasa de Empleo 2019.1T 42.3</code></pre>
</div>
<div id="summarise" class="section level4">
<h4><span class="header-section-number">2.1.1.8</span> summarise</h4>
<p>Crea una nueva tabla que resuma la información original. Para ello, definimos las variables de resumen y las formas de agregación.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Desocupación&quot;) %&gt;% </span>
<span class="st">  summarise(INDICE_MAX = max(TASA),</span>
<span class="st">            INDICE_MIN = min(TASA),</span>
<span class="st">            INDICE_PROM = mean(TASA))</span></code></pre>
<pre><code>##   INDICE_MAX INDICE_MIN INDICE_PROM
## 1       10.1          9         9.4</code></pre>
</div>
<div id="group_by" class="section level4">
<h4><span class="header-section-number">2.1.1.9</span> group_by</h4>
<p>Esta función permite realizar operaciones de forma agrupada. Lo que hace la función es “separar” a la tabla según los valores de la variable indicada y realizar las operaciones que se especifican a continuación, de manera independiente para cada una de las “subtablas”. En nuestro ejemplo, podría ser útil para calcular el promedio de las tasas por <em>INDICADOR</em>.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(INDICADOR) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarise</span>(<span class="dt">INDICE_PROM =</span> <span class="kw">mean</span>(TASA))</code></pre>
<pre><code>## # A tibble: 3 x 2
##   INDICADOR            INDICE_PROM
##   &lt;fct&gt;                      &lt;dbl&gt;
## 1 Tasa de Actividad           46.7
## 2 Tasa de Desocupación         9.4
## 3 Tasa de Empleo              42.3</code></pre>
</div>
</div>
<div id="joins" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Joins</h3>
<p>Otra implementación muy importante del paquete dplyr son las funciones para unir tablas (joins).</p>
<div class="figure">
<img src="img/joins.png" alt="fuente: http://rstudio-pubs-static.s3.amazonaws.com/227171_618ebdce0b9d44f3af65700e833593db.html" />
<p class="caption">fuente: <a href="http://rstudio-pubs-static.s3.amazonaws.com/227171_618ebdce0b9d44f3af65700e833593db.html" class="uri">http://rstudio-pubs-static.s3.amazonaws.com/227171_618ebdce0b9d44f3af65700e833593db.html</a></p>
</div>
<div id="left_join" class="section level4">
<h4><span class="header-section-number">2.1.2.1</span> left_join</h4>
<p>Veamos un ejemplo de la función <strong>left_join</strong> (una de las más utilizadas en la práctica).<br />
Para ello crearemos previamente un Dataframe que contenga las cantidades de población total y población económicamente activa para cada uno de los períodos del Dataframe <em>Datos</em>.</p>
<pre class="sourceCode r"><code class="sourceCode r">Poblaciones &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">FECHA =</span> <span class="kw">c</span>(<span class="st">&quot;2018.3T&quot;</span>, <span class="st">&quot;2018.4T&quot;</span>, <span class="st">&quot;2019.1T&quot;</span>),
                          <span class="dt">POBLACION_miles =</span> <span class="kw">c</span>(<span class="dv">27842</span>, <span class="dv">27914</span>, <span class="dv">28261</span>),
                          <span class="dt">PEA_miles =</span> <span class="kw">c</span>(<span class="dv">12990</span>, <span class="dv">12979</span>, <span class="dv">13285</span>))

Poblaciones</code></pre>
<pre><code>##     FECHA POBLACION_miles PEA_miles
## 1 2018.3T           27842     12990
## 2 2018.4T           27914     12979
## 3 2019.1T           28261     13285</code></pre>
<p>Unimos nuestras dos tablas. La siguiente forma de realizarlo es equivalente a:<br />
<code>Datos_join &lt;- left_join(Datos, Poblaciones, by = &quot;FECHA&quot;)</code></p>
<pre class="sourceCode r"><code class="sourceCode r">Datos_join &lt;-<span class="st"> </span>Datos <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">left_join</span>(Poblaciones, <span class="dt">by =</span> <span class="st">&quot;FECHA&quot;</span>)

Datos_join</code></pre>
<pre><code>##              INDICADOR   FECHA TASA POBLACION_miles PEA_miles
## 1    Tasa de Actividad 2018.3T 46.7           27842     12990
## 2    Tasa de Actividad 2018.4T 46.5           27914     12979
## 3    Tasa de Actividad 2019.1T 47.0           28261     13285
## 4 Tasa de Desocupación 2018.3T  9.0           27842     12990
## 5 Tasa de Desocupación 2018.4T  9.1           27914     12979
## 6 Tasa de Desocupación 2019.1T 10.1           28261     13285
## 7       Tasa de Empleo 2018.3T 42.5           27842     12990
## 8       Tasa de Empleo 2018.4T 42.2           27914     12979
## 9       Tasa de Empleo 2019.1T 42.3           28261     13285</code></pre>
<p>Finalmente, podemos calcular la cantidad de personas desocupadas en cada uno de los períodos con los que contamos.</p>
<pre class="sourceCode r"><code class="sourceCode r">Datos_join <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(INDICADOR <span class="op">==</span><span class="st"> &quot;Tasa de Desocupación&quot;) %&gt;% </span>
<span class="st">  group_by(FECHA) %&gt;% </span>
<span class="st">  summarise(DESOCUP_miles = round(TASA/100 * PEA_miles, 0))</span></code></pre>
<pre><code>## # A tibble: 3 x 2
##   FECHA   DESOCUP_miles
##   &lt;fct&gt;           &lt;dbl&gt;
## 1 2018.3T          1169
## 2 2018.4T          1181
## 3 2019.1T          1342</code></pre>
</div>
</div>
<div id="tidyr" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Tidyr</h3>
<p>El paquete tidyr está pensado para facilitar el emprolijamiento de los datos.</p>
<p><strong>Gather</strong> es una función que nos permite pasar los datos de forma horizontal a una forma vertical.</p>
<p><strong>spread</strong> es una función que nos permite pasar los datos de forma vertical a una forma horizontal.</p>
<div class="figure">
<img src="img/spreadVSgather.png" alt="fuente: http://www.gis-blog.com/data-management-with-r-tidyr-part-1/" />
<p class="caption">fuente: <a href="http://www.gis-blog.com/data-management-with-r-tidyr-part-1/" class="uri">http://www.gis-blog.com/data-management-with-r-tidyr-part-1/</a></p>
</div>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Utilizamos un conjunto de datos que viene con la librería datasets</span>
<span class="kw">library</span>(datasets)

<span class="kw">head</span>(iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">iris &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(.)) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># le agrego un ID</span>
<span class="st">  </span><span class="kw">select</span>(id, <span class="kw">everything</span>())    <span class="co"># lo acomodo para que el id este primero. </span>

<span class="kw">head</span>(iris)</code></pre>
<pre><code>##   id Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1  1          5.1         3.5          1.4         0.2  setosa
## 2  2          4.9         3.0          1.4         0.2  setosa
## 3  3          4.7         3.2          1.3         0.2  setosa
## 4  4          4.6         3.1          1.5         0.2  setosa
## 5  5          5.0         3.6          1.4         0.2  setosa
## 6  6          5.4         3.9          1.7         0.4  setosa</code></pre>
<div id="gather-y-spread" class="section level4">
<h4><span class="header-section-number">2.1.3.1</span> Gather y Spread</h4>
<pre class="sourceCode r"><code class="sourceCode r">iris_vertical &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(., <span class="co"># el . llama a lo que esta atras del %&gt;% </span>
                                 <span class="dt">key   =</span> Variables,
                                 <span class="dt">value =</span> Valores,
                                 <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>) <span class="co">#le indico qué columnas juntar</span>
<span class="kw">head</span>(iris_vertical)</code></pre>
<pre><code>##   id Species    Variables Valores
## 1  1  setosa Sepal.Length     5.1
## 2  2  setosa Sepal.Length     4.9
## 3  3  setosa Sepal.Length     4.7
## 4  4  setosa Sepal.Length     4.6
## 5  5  setosa Sepal.Length     5.0
## 6  6  setosa Sepal.Length     5.4</code></pre>
<p>Podemos deshacer el <strong>gather</strong> con un <strong>Spread</strong></p>
<pre class="sourceCode r"><code class="sourceCode r">iris_horizontal &lt;-<span class="st"> </span>iris_vertical <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">spread</span>(. ,
         <span class="dt">key   =</span> Variables, <span class="co"># la llave es la variable que va a dar los nombres de columna</span>
         <span class="dt">value =</span> Valores) <span class="co"># los valores con que se llenan las celdas</span>

<span class="kw">head</span>(iris_horizontal)</code></pre>
<pre><code>##   id Species Petal.Length Petal.Width Sepal.Length Sepal.Width
## 1  1  setosa          1.4         0.2          5.1         3.5
## 2  2  setosa          1.4         0.2          4.9         3.0
## 3  3  setosa          1.3         0.2          4.7         3.2
## 4  4  setosa          1.5         0.2          4.6         3.1
## 5  5  setosa          1.4         0.2          5.0         3.6
## 6  6  setosa          1.7         0.4          5.4         3.9</code></pre>
</div>
</div>
<div id="lubridate" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Lubridate</h3>
<p>El paquete lubridate está pensado para trabajar con los datos tipo fecha (date) o fecha-hora (datetime) para cambiarles el formato, realizar operaciones y extraer información</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(lubridate)</code></pre>
<div id="cambio-de-formato" class="section level4">
<h4><span class="header-section-number">2.1.4.1</span> Cambio de formato</h4>
<p>Existe una gran cantidad de funciones para realizar esto. La idea general es poder llevar los objetos datetime a un formato común compuesto de los elementos: año, mes, día, hora, minuto y segundo (también se puede setear el huso horario)</p>
<pre class="sourceCode r"><code class="sourceCode r">fecha  &lt;-<span class="st"> &quot;04/12/92 17:35:16&quot;</span>
fecha</code></pre>
<pre><code>## [1] &quot;04/12/92 17:35:16&quot;</code></pre>
<p>Con la función dmy_hms podemos convertir este string a una fecha: estamos indicando que el formato de la fecha es día(d), mes(m), año(y), hora(h), minuto(m) y segundo(s).</p>
<pre class="sourceCode r"><code class="sourceCode r">fecha  &lt;-<span class="st"> </span><span class="kw">dmy_hms</span>(fecha)
fecha</code></pre>
<pre><code>## [1] &quot;1992-12-04 17:35:16 UTC&quot;</code></pre>
<p>Muchas funciones de lubridate operan con esta misma lógica.</p>
<p>Otra función para realizar un cambio de formato es <em>parse_date_time</em>. Permite construir objetos datetime a partir de datos más complejos, como por ejemplo cuando aparece el nombre del mes y el año.</p>
<p>En el parámetro <em>x</em> pasamos el dato de la fecha y en el parámetro <em>orders</em> especificamos el orden en el cual se encuentra la información de la fecha.</p>
<pre class="sourceCode r"><code class="sourceCode r">fecha2  &lt;-<span class="st"> &quot;Dec-92&quot;</span>
fecha2 &lt;-<span class="st"> </span><span class="kw">parse_date_time</span>(fecha2, <span class="dt">orders =</span> <span class="st">&#39;my&#39;</span>)
fecha2</code></pre>
<pre><code>## [1] &quot;1992-12-01 UTC&quot;</code></pre>
</div>
<div id="extraccion-de-informacion" class="section level4">
<h4><span class="header-section-number">2.1.4.2</span> Extracción de información</h4>
<p>Existen muchas funciones muy sencillas para extraer información de un objeto datetime. Algunas son:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">year</span>(fecha)  <span class="co"># Obtener el año</span></code></pre>
<pre><code>## [1] 1992</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">month</span>(fecha) <span class="co"># Obtener el mes</span></code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">day</span>(fecha)   <span class="co"># Obtener el día</span></code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">wday</span>(fecha, <span class="dt">label =</span> <span class="ot">TRUE</span>) <span class="co"># Obtener el nombre del día</span></code></pre>
<pre><code>## [1] vie
## Levels: dom &lt; lun &lt; mar &lt; mié &lt; jue &lt; vie &lt; sáb</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hour</span>(fecha) <span class="co"># Obtener la hora</span></code></pre>
<pre><code>## [1] 17</code></pre>
</div>
<div id="operaciones" class="section level4">
<h4><span class="header-section-number">2.1.4.3</span> Operaciones</h4>
<p>Podemos sumar o restarle cualquier período de tiempo a un objeto datetime</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Sumo dos días </span>
fecha <span class="op">+</span><span class="st"> </span><span class="kw">days</span>(<span class="dv">2</span>)</code></pre>
<pre><code>## [1] &quot;1992-12-06 17:35:16 UTC&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Resto 1 semana y dos horas</span>
fecha <span class="op">-</span><span class="st"> </span>(<span class="kw">weeks</span>(<span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">hours</span>(<span class="dv">2</span>))</code></pre>
<pre><code>## [1] &quot;1992-11-27 15:35:16 UTC&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="practica-guiada-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
